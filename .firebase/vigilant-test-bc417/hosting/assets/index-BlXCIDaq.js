var Gc=t=>{throw TypeError(t)};var Ua=(t,e,n)=>e.has(t)||Gc("Cannot "+n);var v=(t,e,n)=>(Ua(t,e,"read from private field"),n?n.call(t):e.get(t)),L=(t,e,n)=>e.has(t)?Gc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),R=(t,e,n,r)=>(Ua(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),U=(t,e,n)=>(Ua(t,e,"access private method"),n);var Bi=(t,e,n,r)=>({set _(s){R(t,e,s,n)},get _(){return v(t,e,r)}});function Pg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Og(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var rf={exports:{}},aa={},sf={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri=Symbol.for("react.element"),Tg=Symbol.for("react.portal"),Rg=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),$g=Symbol.for("react.context"),Mg=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),zg=Symbol.for("react.memo"),Fg=Symbol.for("react.lazy"),Jc=Symbol.iterator;function Ug(t){return t===null||typeof t!="object"?null:(t=Jc&&t[Jc]||t["@@iterator"],typeof t=="function"?t:null)}var of={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},af=Object.assign,lf={};function ws(t,e,n){this.props=t,this.context=e,this.refs=lf,this.updater=n||of}ws.prototype.isReactComponent={};ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uf(){}uf.prototype=ws.prototype;function Wu(t,e,n){this.props=t,this.context=e,this.refs=lf,this.updater=n||of}var Vu=Wu.prototype=new uf;Vu.constructor=Wu;af(Vu,ws.prototype);Vu.isPureReactComponent=!0;var Yc=Array.isArray,cf=Object.prototype.hasOwnProperty,qu={current:null},df={key:!0,ref:!0,__self:!0,__source:!0};function hf(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cf.call(e,r)&&!df.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ri,type:t,key:i,ref:o,props:s,_owner:qu.current}}function Bg(t,e){return{$$typeof:Ri,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ri}function Wg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xc=/\/+/g;function Ba(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wg(""+t.key):e.toString(36)}function fo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ri:case Tg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ba(o,0):r,Yc(s)?(n="",t!=null&&(n=t.replace(Xc,"$&/")+"/"),fo(s,e,n,"",function(u){return u})):s!=null&&(Qu(s)&&(s=Bg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xc,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Yc(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ba(i,a);o+=fo(i,e,n,l,s)}else if(l=Ug(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ba(i,a++),o+=fo(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wi(t,e,n){if(t==null)return t;var r=[],s=0;return fo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Vg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Le={current:null},mo={transition:null},qg={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:mo,ReactCurrentOwner:qu};function ff(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Wi,forEach:function(t,e,n){Wi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wi(t,function(){e++}),e},toArray:function(t){return Wi(t,function(e){return e})||[]},only:function(t){if(!Qu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=ws;V.Fragment=Rg;V.Profiler=Ig;V.PureComponent=Wu;V.StrictMode=Ag;V.Suspense=Dg;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qg;V.act=ff;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=af({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cf.call(e,l)&&!df.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ri,type:t.type,key:s,ref:i,props:r,_owner:o}};V.createContext=function(t){return t={$$typeof:$g,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lg,_context:t},t.Consumer=t};V.createElement=hf;V.createFactory=function(t){var e=hf.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:Mg,render:t}};V.isValidElement=Qu;V.lazy=function(t){return{$$typeof:Fg,_payload:{_status:-1,_result:t},_init:Vg}};V.memo=function(t,e){return{$$typeof:zg,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=mo.transition;mo.transition={};try{t()}finally{mo.transition=e}};V.unstable_act=ff;V.useCallback=function(t,e){return Le.current.useCallback(t,e)};V.useContext=function(t){return Le.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Le.current.useDeferredValue(t)};V.useEffect=function(t,e){return Le.current.useEffect(t,e)};V.useId=function(){return Le.current.useId()};V.useImperativeHandle=function(t,e,n){return Le.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return Le.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Le.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Le.current.useMemo(t,e)};V.useReducer=function(t,e,n){return Le.current.useReducer(t,e,n)};V.useRef=function(t){return Le.current.useRef(t)};V.useState=function(t){return Le.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return Le.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return Le.current.useTransition()};V.version="18.3.1";sf.exports=V;var k=sf.exports;const mf=nf(k),Qg=Pg({__proto__:null,default:mf},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=k,Kg=Symbol.for("react.element"),Gg=Symbol.for("react.fragment"),Jg=Object.prototype.hasOwnProperty,Yg=Hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xg={key:!0,ref:!0,__self:!0,__source:!0};function pf(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Jg.call(e,r)&&!Xg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Kg,type:t,key:i,ref:o,props:s,_owner:Yg.current}}aa.Fragment=Gg;aa.jsx=pf;aa.jsxs=pf;rf.exports=aa;var c=rf.exports,gf={exports:{}},Ye={},yf={exports:{}},vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,z){var F=T.length;T.push(z);e:for(;0<F;){var he=F-1>>>1,ve=T[he];if(0<s(ve,z))T[he]=z,T[F]=ve,F=he;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var z=T[0],F=T.pop();if(F!==z){T[0]=F;e:for(var he=0,ve=T.length,Fi=ve>>>1;he<Fi;){var zn=2*(he+1)-1,Fa=T[zn],Fn=zn+1,Ui=T[Fn];if(0>s(Fa,F))Fn<ve&&0>s(Ui,Fa)?(T[he]=Ui,T[Fn]=F,he=Fn):(T[he]=Fa,T[zn]=F,he=zn);else if(Fn<ve&&0>s(Ui,F))T[he]=Ui,T[Fn]=F,he=Fn;else break e}}return z}function s(T,z){var F=T.sortIndex-z.sortIndex;return F!==0?F:T.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,x=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=T)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function b(T){if(w=!1,y(T),!x)if(n(l)!==null)x=!0,Z(j);else{var z=n(u);z!==null&&ie(b,z.startTime-T)}}function j(T,z){x=!1,w&&(w=!1,p(O),O=-1),g=!0;var F=f;try{for(y(z),h=n(l);h!==null&&(!(h.expirationTime>z)||T&&!I());){var he=h.callback;if(typeof he=="function"){h.callback=null,f=h.priorityLevel;var ve=he(h.expirationTime<=z);z=t.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(l)&&r(l),y(z)}else r(l);h=n(l)}if(h!==null)var Fi=!0;else{var zn=n(u);zn!==null&&ie(b,zn.startTime-z),Fi=!1}return Fi}finally{h=null,f=F,g=!1}}var S=!1,N=null,O=-1,C=5,E=-1;function I(){return!(t.unstable_now()-E<C)}function K(){if(N!==null){var T=t.unstable_now();E=T;var z=!0;try{z=N(!0,T)}finally{z?$():(S=!1,N=null)}}else S=!1}var $;if(typeof m=="function")$=function(){m(K)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,M=G.port2;G.port1.onmessage=K,$=function(){M.postMessage(null)}}else $=function(){_(K,0)};function Z(T){N=T,S||(S=!0,$())}function ie(T,z){O=_(function(){T(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,Z(j))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var F=f;f=z;try{return T()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,z){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=f;f=T;try{return z()}finally{f=F}},t.unstable_scheduleCallback=function(T,z,F){var he=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?he+F:he):F=he,T){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=F+ve,T={id:d++,callback:z,priorityLevel:T,startTime:F,expirationTime:ve,sortIndex:-1},F>he?(T.sortIndex=F,e(u,T),n(l)===null&&T===n(u)&&(w?(p(O),O=-1):w=!0,ie(b,F-he))):(T.sortIndex=ve,e(l,T),x||g||(x=!0,Z(j))),T},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(T){var z=f;return function(){var F=f;f=z;try{return T.apply(this,arguments)}finally{f=F}}}})(vf);yf.exports=vf;var Zg=yf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=k,Je=Zg;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wf=new Set,ii={};function gr(t,e){ls(t,e),ls(t+"Capture",e)}function ls(t,e){for(ii[t]=e,t=0;t<e.length;t++)wf.add(e[t])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=Object.prototype.hasOwnProperty,ty=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zc={},ed={};function ny(t){return bl.call(ed,t)?!0:bl.call(Zc,t)?!1:ty.test(t)?ed[t]=!0:(Zc[t]=!0,!1)}function ry(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sy(t,e,n,r){if(e===null||typeof e>"u"||ry(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $e(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Se[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Se[e]=new $e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Se[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Se[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Se[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Se[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Se[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Se[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Se[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hu=/[\-:]([a-z])/g;function Ku(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hu,Ku);Se[e]=new $e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hu,Ku);Se[e]=new $e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hu,Ku);Se[e]=new $e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Se[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});Se.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Se[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gu(t,e,n,r){var s=Se.hasOwnProperty(e)?Se[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sy(e,n,s,r)&&(n=null),r||s===null?ny(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gt=ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),xf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),El=Symbol.for("react.suspense"),jl=Symbol.for("react.suspense_list"),Xu=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),kf=Symbol.for("react.offscreen"),td=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=td&&t[td]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,Wa;function Us(t){if(Wa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wa=e&&e[1]||""}return`
`+Wa+t}var Va=!1;function qa(t,e){if(!t||Va)return"";Va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Va=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Us(t):""}function iy(t){switch(t.tag){case 5:return Us(t.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return t=qa(t.type,!1),t;case 11:return t=qa(t.type.render,!1),t;case 1:return t=qa(t.type,!0),t;default:return""}}function Cl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pr:return"Fragment";case Nr:return"Portal";case Sl:return"Profiler";case Ju:return"StrictMode";case El:return"Suspense";case jl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _f:return(t.displayName||"Context")+".Consumer";case xf:return(t._context.displayName||"Context")+".Provider";case Yu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xu:return e=t.displayName||null,e!==null?e:Cl(t.type)||"Memo";case rn:e=t._payload,t=t._init;try{return Cl(t(e))}catch{}}return null}function oy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(e);case 8:return e===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ay(t){var e=bf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qi(t){t._valueTracker||(t._valueTracker=ay(t))}function Sf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Co(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nl(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ef(t,e){e=e.checked,e!=null&&Gu(t,"checked",e,!1)}function Pl(t,e){Ef(t,e);var n=Rn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ol(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ol(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ol(t,e,n){(e!=="number"||Co(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bs=Array.isArray;function Ur(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Bs(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rn(n)}}function jf(t,e){var n=Rn(e.value),r=Rn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function id(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qi,Nf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ly=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(t){ly.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hs[e]=Hs[t]})});function Pf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hs.hasOwnProperty(t)&&Hs[t]?(""+e).trim():e+"px"}function Of(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Pf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var uy=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(t,e){if(e){if(uy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Il(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ll=null;function Zu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $l=null,Br=null,Wr=null;function od(t){if(t=Li(t)){if(typeof $l!="function")throw Error(P(280));var e=t.stateNode;e&&(e=ha(e),$l(t.stateNode,t.type,e))}}function Tf(t){Br?Wr?Wr.push(t):Wr=[t]:Br=t}function Rf(){if(Br){var t=Br,e=Wr;if(Wr=Br=null,od(t),e)for(t=0;t<e.length;t++)od(e[t])}}function Af(t,e){return t(e)}function If(){}var Qa=!1;function Lf(t,e,n){if(Qa)return t(e,n);Qa=!0;try{return Af(t,e,n)}finally{Qa=!1,(Br!==null||Wr!==null)&&(If(),Rf())}}function ai(t,e){var n=t.stateNode;if(n===null)return null;var r=ha(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Ml=!1;if(Vt)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Ml=!1}function cy(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ks=!1,No=null,Po=!1,Dl=null,dy={onError:function(t){Ks=!0,No=t}};function hy(t,e,n,r,s,i,o,a,l){Ks=!1,No=null,cy.apply(dy,arguments)}function fy(t,e,n,r,s,i,o,a,l){if(hy.apply(this,arguments),Ks){if(Ks){var u=No;Ks=!1,No=null}else throw Error(P(198));Po||(Po=!0,Dl=u)}}function yr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $f(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ad(t){if(yr(t)!==t)throw Error(P(188))}function my(t){var e=t.alternate;if(!e){if(e=yr(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ad(s),t;if(i===r)return ad(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Mf(t){return t=my(t),t!==null?Df(t):null}function Df(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Df(t);if(e!==null)return e;t=t.sibling}return null}var zf=Je.unstable_scheduleCallback,ld=Je.unstable_cancelCallback,py=Je.unstable_shouldYield,gy=Je.unstable_requestPaint,fe=Je.unstable_now,yy=Je.unstable_getCurrentPriorityLevel,ec=Je.unstable_ImmediatePriority,Ff=Je.unstable_UserBlockingPriority,Oo=Je.unstable_NormalPriority,vy=Je.unstable_LowPriority,Uf=Je.unstable_IdlePriority,la=null,Tt=null;function wy(t){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(la,t,void 0,(t.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:ky,xy=Math.log,_y=Math.LN2;function ky(t){return t>>>=0,t===0?32:31-(xy(t)/_y|0)|0}var Hi=64,Ki=4194304;function Ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function To(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ws(a):(i&=o,i!==0&&(r=Ws(i)))}else o=n&~s,o!==0?r=Ws(o):i!==0&&(r=Ws(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vt(e),s=1<<n,r|=t[n],e&=~s;return r}function by(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-vt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=by(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function zl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bf(){var t=Hi;return Hi<<=1,!(Hi&4194240)&&(Hi=64),t}function Ha(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ai(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vt(e),t[e]=n}function Ey(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function tc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var X=0;function Wf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vf,nc,qf,Qf,Hf,Fl=!1,Gi=[],bn=null,Sn=null,En=null,li=new Map,ui=new Map,an=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":li.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(e.pointerId)}}function Rs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Li(e),e!==null&&nc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Cy(t,e,n,r,s){switch(e){case"focusin":return bn=Rs(bn,t,e,n,r,s),!0;case"dragenter":return Sn=Rs(Sn,t,e,n,r,s),!0;case"mouseover":return En=Rs(En,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return li.set(i,Rs(li.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ui.set(i,Rs(ui.get(i)||null,t,e,n,r,s)),!0}return!1}function Kf(t){var e=Kn(t.target);if(e!==null){var n=yr(e);if(n!==null){if(e=n.tag,e===13){if(e=$f(n),e!==null){t.blockedOn=e,Hf(t.priority,function(){qf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function po(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ul(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ll=r,n.target.dispatchEvent(r),Ll=null}else return e=Li(n),e!==null&&nc(e),t.blockedOn=n,!1;e.shift()}return!0}function cd(t,e,n){po(t)&&n.delete(e)}function Ny(){Fl=!1,bn!==null&&po(bn)&&(bn=null),Sn!==null&&po(Sn)&&(Sn=null),En!==null&&po(En)&&(En=null),li.forEach(cd),ui.forEach(cd)}function As(t,e){t.blockedOn===e&&(t.blockedOn=null,Fl||(Fl=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,Ny)))}function ci(t){function e(s){return As(s,t)}if(0<Gi.length){As(Gi[0],t);for(var n=1;n<Gi.length;n++){var r=Gi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bn!==null&&As(bn,t),Sn!==null&&As(Sn,t),En!==null&&As(En,t),li.forEach(e),ui.forEach(e),n=0;n<an.length;n++)r=an[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)Kf(n),n.blockedOn===null&&an.shift()}var Vr=Gt.ReactCurrentBatchConfig,Ro=!0;function Py(t,e,n,r){var s=X,i=Vr.transition;Vr.transition=null;try{X=1,rc(t,e,n,r)}finally{X=s,Vr.transition=i}}function Oy(t,e,n,r){var s=X,i=Vr.transition;Vr.transition=null;try{X=4,rc(t,e,n,r)}finally{X=s,Vr.transition=i}}function rc(t,e,n,r){if(Ro){var s=Ul(t,e,n,r);if(s===null)rl(t,e,r,Ao,n),ud(t,r);else if(Cy(s,t,e,n,r))r.stopPropagation();else if(ud(t,r),e&4&&-1<jy.indexOf(t)){for(;s!==null;){var i=Li(s);if(i!==null&&Vf(i),i=Ul(t,e,n,r),i===null&&rl(t,e,r,Ao,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rl(t,e,r,null,n)}}var Ao=null;function Ul(t,e,n,r){if(Ao=null,t=Zu(r),t=Kn(t),t!==null)if(e=yr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$f(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ao=t,null}function Gf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yy()){case ec:return 1;case Ff:return 4;case Oo:case vy:return 16;case Uf:return 536870912;default:return 16}default:return 16}}var xn=null,sc=null,go=null;function Jf(){if(go)return go;var t,e=sc,n=e.length,r,s="value"in xn?xn.value:xn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return go=s.slice(t,1<r?1-r:void 0)}function yo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function dd(){return!1}function Xe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ji:dd,this.isPropagationStopped=dd,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),e}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=Xe(xs),Ii=ue({},xs,{view:0,detail:0}),Ty=Xe(Ii),Ka,Ga,Is,ua=ue({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(Ka=t.screenX-Is.screenX,Ga=t.screenY-Is.screenY):Ga=Ka=0,Is=t),Ka)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),hd=Xe(ua),Ry=ue({},ua,{dataTransfer:0}),Ay=Xe(Ry),Iy=ue({},Ii,{relatedTarget:0}),Ja=Xe(Iy),Ly=ue({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=Xe(Ly),My=ue({},xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dy=Xe(My),zy=ue({},xs,{data:0}),fd=Xe(zy),Fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},By={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=By[t])?!!e[t]:!1}function oc(){return Wy}var Vy=ue({},Ii,{key:function(t){if(t.key){var e=Fy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(t){return t.type==="keypress"?yo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qy=Xe(Vy),Qy=ue({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=Xe(Qy),Hy=ue({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),Ky=Xe(Hy),Gy=ue({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jy=Xe(Gy),Yy=ue({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xy=Xe(Yy),Zy=[9,13,27,32],ac=Vt&&"CompositionEvent"in window,Gs=null;Vt&&"documentMode"in document&&(Gs=document.documentMode);var e0=Vt&&"TextEvent"in window&&!Gs,Yf=Vt&&(!ac||Gs&&8<Gs&&11>=Gs),pd=" ",gd=!1;function Xf(t,e){switch(t){case"keyup":return Zy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Or=!1;function t0(t,e){switch(t){case"compositionend":return Zf(e);case"keypress":return e.which!==32?null:(gd=!0,pd);case"textInput":return t=e.data,t===pd&&gd?null:t;default:return null}}function n0(t,e){if(Or)return t==="compositionend"||!ac&&Xf(t,e)?(t=Jf(),go=sc=xn=null,Or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yf&&e.locale!=="ko"?null:e.data;default:return null}}var r0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r0[t.type]:e==="textarea"}function em(t,e,n,r){Tf(r),e=Io(e,"onChange"),0<e.length&&(n=new ic("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Js=null,di=null;function s0(t){dm(t,0)}function ca(t){var e=Ar(t);if(Sf(e))return t}function i0(t,e){if(t==="change")return e}var tm=!1;if(Vt){var Ya;if(Vt){var Xa="oninput"in document;if(!Xa){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Xa=typeof vd.oninput=="function"}Ya=Xa}else Ya=!1;tm=Ya&&(!document.documentMode||9<document.documentMode)}function wd(){Js&&(Js.detachEvent("onpropertychange",nm),di=Js=null)}function nm(t){if(t.propertyName==="value"&&ca(di)){var e=[];em(e,di,t,Zu(t)),Lf(s0,e)}}function o0(t,e,n){t==="focusin"?(wd(),Js=e,di=n,Js.attachEvent("onpropertychange",nm)):t==="focusout"&&wd()}function a0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ca(di)}function l0(t,e){if(t==="click")return ca(e)}function u0(t,e){if(t==="input"||t==="change")return ca(e)}function c0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _t=typeof Object.is=="function"?Object.is:c0;function hi(t,e){if(_t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bl.call(e,s)||!_t(t[s],e[s]))return!1}return!0}function xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _d(t,e){var n=xd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xd(n)}}function rm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sm(){for(var t=window,e=Co();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Co(t.document)}return e}function lc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d0(t){var e=sm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rm(n.ownerDocument.documentElement,n)){if(r!==null&&lc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_d(n,i);var o=_d(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h0=Vt&&"documentMode"in document&&11>=document.documentMode,Tr=null,Bl=null,Ys=null,Wl=!1;function kd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wl||Tr==null||Tr!==Co(r)||(r=Tr,"selectionStart"in r&&lc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ys&&hi(Ys,r)||(Ys=r,r=Io(Bl,"onSelect"),0<r.length&&(e=new ic("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tr)))}function Yi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rr={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionend:Yi("Transition","TransitionEnd")},Za={},im={};Vt&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function da(t){if(Za[t])return Za[t];if(!Rr[t])return t;var e=Rr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in im)return Za[t]=e[n];return t}var om=da("animationend"),am=da("animationiteration"),lm=da("animationstart"),um=da("transitionend"),cm=new Map,bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(t,e){cm.set(t,e),gr(e,[t])}for(var el=0;el<bd.length;el++){var tl=bd[el],f0=tl.toLowerCase(),m0=tl[0].toUpperCase()+tl.slice(1);Ln(f0,"on"+m0)}Ln(om,"onAnimationEnd");Ln(am,"onAnimationIteration");Ln(lm,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(um,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Sd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fy(r,e,void 0,t),t.currentTarget=null}function dm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Sd(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Sd(s,a,u),i=l}}}if(Po)throw t=Dl,Po=!1,Dl=null,t}function ne(t,e){var n=e[Kl];n===void 0&&(n=e[Kl]=new Set);var r=t+"__bubble";n.has(r)||(hm(e,t,2,!1),n.add(r))}function nl(t,e,n){var r=0;e&&(r|=4),hm(n,t,r,e)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function fi(t){if(!t[Xi]){t[Xi]=!0,wf.forEach(function(n){n!=="selectionchange"&&(p0.has(n)||nl(n,!1,t),nl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xi]||(e[Xi]=!0,nl("selectionchange",!1,e))}}function hm(t,e,n,r){switch(Gf(e)){case 1:var s=Py;break;case 4:s=Oy;break;default:s=rc}n=s.bind(null,e,n,t),s=void 0,!Ml||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function rl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Kn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Lf(function(){var u=i,d=Zu(n),h=[];e:{var f=cm.get(t);if(f!==void 0){var g=ic,x=t;switch(t){case"keypress":if(yo(n)===0)break e;case"keydown":case"keyup":g=qy;break;case"focusin":x="focus",g=Ja;break;case"focusout":x="blur",g=Ja;break;case"beforeblur":case"afterblur":g=Ja;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ky;break;case om:case am:case lm:g=$y;break;case um:g=Jy;break;case"scroll":g=Ty;break;case"wheel":g=Xy;break;case"copy":case"cut":case"paste":g=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=md}var w=(e&4)!==0,_=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,y;m!==null;){y=m;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,p!==null&&(b=ai(m,p),b!=null&&w.push(mi(m,b,y)))),_)break;m=m.return}0<w.length&&(f=new g(f,x,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Ll&&(x=n.relatedTarget||n.fromElement)&&(Kn(x)||x[qt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Kn(x):null,x!==null&&(_=yr(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(w=hd,b="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=md,b="onPointerLeave",p="onPointerEnter",m="pointer"),_=g==null?f:Ar(g),y=x==null?f:Ar(x),f=new w(b,m+"leave",g,n,d),f.target=_,f.relatedTarget=y,b=null,Kn(d)===u&&(w=new w(p,m+"enter",x,n,d),w.target=y,w.relatedTarget=_,b=w),_=b,g&&x)t:{for(w=g,p=x,m=0,y=w;y;y=kr(y))m++;for(y=0,b=p;b;b=kr(b))y++;for(;0<m-y;)w=kr(w),m--;for(;0<y-m;)p=kr(p),y--;for(;m--;){if(w===p||p!==null&&w===p.alternate)break t;w=kr(w),p=kr(p)}w=null}else w=null;g!==null&&Ed(h,f,g,w,!1),x!==null&&_!==null&&Ed(h,_,x,w,!0)}}e:{if(f=u?Ar(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=i0;else if(yd(f))if(tm)j=u0;else{j=a0;var S=o0}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=l0);if(j&&(j=j(t,u))){em(h,j,n,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Ol(f,"number",f.value)}switch(S=u?Ar(u):window,t){case"focusin":(yd(S)||S.contentEditable==="true")&&(Tr=S,Bl=u,Ys=null);break;case"focusout":Ys=Bl=Tr=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,kd(h,n,d);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":kd(h,n,d)}var N;if(ac)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Or?Xf(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Yf&&n.locale!=="ko"&&(Or||O!=="onCompositionStart"?O==="onCompositionEnd"&&Or&&(N=Jf()):(xn=d,sc="value"in xn?xn.value:xn.textContent,Or=!0)),S=Io(u,O),0<S.length&&(O=new fd(O,t,null,n,d),h.push({event:O,listeners:S}),N?O.data=N:(N=Zf(n),N!==null&&(O.data=N)))),(N=e0?t0(t,n):n0(t,n))&&(u=Io(u,"onBeforeInput"),0<u.length&&(d=new fd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}dm(h,e)})}function mi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Io(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ai(t,n),i!=null&&r.unshift(mi(t,i,s)),i=ai(t,e),i!=null&&r.push(mi(t,i,s))),t=t.return}return r}function kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ed(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ai(n,i),l!=null&&o.unshift(mi(n,l,a))):s||(l=ai(n,i),l!=null&&o.push(mi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var g0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function jd(t){return(typeof t=="string"?t:""+t).replace(g0,`
`).replace(y0,"")}function Zi(t,e,n){if(e=jd(e),jd(t)!==e&&n)throw Error(P(425))}function Lo(){}var Vl=null,ql=null;function Ql(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,v0=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(t){return Cd.resolve(null).then(t).catch(x0)}:Hl;function x0(t){setTimeout(function(){throw t})}function sl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ci(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ci(e)}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _s=Math.random().toString(36).slice(2),Ot="__reactFiber$"+_s,pi="__reactProps$"+_s,qt="__reactContainer$"+_s,Kl="__reactEvents$"+_s,_0="__reactListeners$"+_s,k0="__reactHandles$"+_s;function Kn(t){var e=t[Ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qt]||n[Ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nd(t);t!==null;){if(n=t[Ot])return n;t=Nd(t)}return e}t=n,n=t.parentNode}return null}function Li(t){return t=t[Ot]||t[qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function ha(t){return t[pi]||null}var Gl=[],Ir=-1;function $n(t){return{current:t}}function re(t){0>Ir||(t.current=Gl[Ir],Gl[Ir]=null,Ir--)}function te(t,e){Ir++,Gl[Ir]=t.current,t.current=e}var An={},Pe=$n(An),We=$n(!1),lr=An;function us(t,e){var n=t.type.contextTypes;if(!n)return An;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(t){return t=t.childContextTypes,t!=null}function $o(){re(We),re(Pe)}function Pd(t,e,n){if(Pe.current!==An)throw Error(P(168));te(Pe,e),te(We,n)}function fm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,oy(t)||"Unknown",s));return ue({},n,r)}function Mo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||An,lr=Pe.current,te(Pe,t),te(We,We.current),!0}function Od(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=fm(t,e,lr),r.__reactInternalMemoizedMergedChildContext=t,re(We),re(Pe),te(Pe,t)):re(We),te(We,n)}var Mt=null,fa=!1,il=!1;function mm(t){Mt===null?Mt=[t]:Mt.push(t)}function b0(t){fa=!0,mm(t)}function Mn(){if(!il&&Mt!==null){il=!0;var t=0,e=X;try{var n=Mt;for(X=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mt=null,fa=!1}catch(s){throw Mt!==null&&(Mt=Mt.slice(t+1)),zf(ec,Mn),s}finally{X=e,il=!1}}return null}var Lr=[],$r=0,Do=null,zo=0,rt=[],st=0,ur=null,Ft=1,Ut="";function Bn(t,e){Lr[$r++]=zo,Lr[$r++]=Do,Do=t,zo=e}function pm(t,e,n){rt[st++]=Ft,rt[st++]=Ut,rt[st++]=ur,ur=t;var r=Ft;t=Ut;var s=32-vt(r)-1;r&=~(1<<s),n+=1;var i=32-vt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ft=1<<32-vt(e)+s|n<<s|r,Ut=i+t}else Ft=1<<i|n<<s|r,Ut=t}function uc(t){t.return!==null&&(Bn(t,1),pm(t,1,0))}function cc(t){for(;t===Do;)Do=Lr[--$r],Lr[$r]=null,zo=Lr[--$r],Lr[$r]=null;for(;t===ur;)ur=rt[--st],rt[st]=null,Ut=rt[--st],rt[st]=null,Ft=rt[--st],rt[st]=null}var Ge=null,Ke=null,se=!1,gt=null;function gm(t,e){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Td(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ge=t,Ke=jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ge=t,Ke=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ur!==null?{id:Ft,overflow:Ut}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ge=t,Ke=null,!0):!1;default:return!1}}function Jl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yl(t){if(se){var e=Ke;if(e){var n=e;if(!Td(t,e)){if(Jl(t))throw Error(P(418));e=jn(n.nextSibling);var r=Ge;e&&Td(t,e)?gm(r,n):(t.flags=t.flags&-4097|2,se=!1,Ge=t)}}else{if(Jl(t))throw Error(P(418));t.flags=t.flags&-4097|2,se=!1,Ge=t}}}function Rd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ge=t}function eo(t){if(t!==Ge)return!1;if(!se)return Rd(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ql(t.type,t.memoizedProps)),e&&(e=Ke)){if(Jl(t))throw ym(),Error(P(418));for(;e;)gm(t,e),e=jn(e.nextSibling)}if(Rd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ke=jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ke=null}}else Ke=Ge?jn(t.stateNode.nextSibling):null;return!0}function ym(){for(var t=Ke;t;)t=jn(t.nextSibling)}function cs(){Ke=Ge=null,se=!1}function dc(t){gt===null?gt=[t]:gt.push(t)}var S0=Gt.ReactCurrentBatchConfig;function Ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function to(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ad(t){var e=t._init;return e(t._payload)}function vm(t){function e(p,m){if(t){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=On(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,y,b){return m===null||m.tag!==6?(m=hl(y,p.mode,b),m.return=p,m):(m=s(m,y),m.return=p,m)}function l(p,m,y,b){var j=y.type;return j===Pr?d(p,m,y.props.children,b,y.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===rn&&Ad(j)===m.type)?(b=s(m,y.props),b.ref=Ls(p,m,y),b.return=p,b):(b=So(y.type,y.key,y.props,null,p.mode,b),b.ref=Ls(p,m,y),b.return=p,b)}function u(p,m,y,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=fl(y,p.mode,b),m.return=p,m):(m=s(m,y.children||[]),m.return=p,m)}function d(p,m,y,b,j){return m===null||m.tag!==7?(m=ar(y,p.mode,b,j),m.return=p,m):(m=s(m,y),m.return=p,m)}function h(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=hl(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vi:return y=So(m.type,m.key,m.props,null,p.mode,y),y.ref=Ls(p,null,m),y.return=p,y;case Nr:return m=fl(m,p.mode,y),m.return=p,m;case rn:var b=m._init;return h(p,b(m._payload),y)}if(Bs(m)||Os(m))return m=ar(m,p.mode,y,null),m.return=p,m;to(p,m)}return null}function f(p,m,y,b){var j=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:a(p,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vi:return y.key===j?l(p,m,y,b):null;case Nr:return y.key===j?u(p,m,y,b):null;case rn:return j=y._init,f(p,m,j(y._payload),b)}if(Bs(y)||Os(y))return j!==null?null:d(p,m,y,b,null);to(p,y)}return null}function g(p,m,y,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(y)||null,a(m,p,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vi:return p=p.get(b.key===null?y:b.key)||null,l(m,p,b,j);case Nr:return p=p.get(b.key===null?y:b.key)||null,u(m,p,b,j);case rn:var S=b._init;return g(p,m,y,S(b._payload),j)}if(Bs(b)||Os(b))return p=p.get(y)||null,d(m,p,b,j,null);to(m,b)}return null}function x(p,m,y,b){for(var j=null,S=null,N=m,O=m=0,C=null;N!==null&&O<y.length;O++){N.index>O?(C=N,N=null):C=N.sibling;var E=f(p,N,y[O],b);if(E===null){N===null&&(N=C);break}t&&N&&E.alternate===null&&e(p,N),m=i(E,m,O),S===null?j=E:S.sibling=E,S=E,N=C}if(O===y.length)return n(p,N),se&&Bn(p,O),j;if(N===null){for(;O<y.length;O++)N=h(p,y[O],b),N!==null&&(m=i(N,m,O),S===null?j=N:S.sibling=N,S=N);return se&&Bn(p,O),j}for(N=r(p,N);O<y.length;O++)C=g(N,p,O,y[O],b),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?O:C.key),m=i(C,m,O),S===null?j=C:S.sibling=C,S=C);return t&&N.forEach(function(I){return e(p,I)}),se&&Bn(p,O),j}function w(p,m,y,b){var j=Os(y);if(typeof j!="function")throw Error(P(150));if(y=j.call(y),y==null)throw Error(P(151));for(var S=j=null,N=m,O=m=0,C=null,E=y.next();N!==null&&!E.done;O++,E=y.next()){N.index>O?(C=N,N=null):C=N.sibling;var I=f(p,N,E.value,b);if(I===null){N===null&&(N=C);break}t&&N&&I.alternate===null&&e(p,N),m=i(I,m,O),S===null?j=I:S.sibling=I,S=I,N=C}if(E.done)return n(p,N),se&&Bn(p,O),j;if(N===null){for(;!E.done;O++,E=y.next())E=h(p,E.value,b),E!==null&&(m=i(E,m,O),S===null?j=E:S.sibling=E,S=E);return se&&Bn(p,O),j}for(N=r(p,N);!E.done;O++,E=y.next())E=g(N,p,O,E.value,b),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?O:E.key),m=i(E,m,O),S===null?j=E:S.sibling=E,S=E);return t&&N.forEach(function(K){return e(p,K)}),se&&Bn(p,O),j}function _(p,m,y,b){if(typeof y=="object"&&y!==null&&y.type===Pr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Vi:e:{for(var j=y.key,S=m;S!==null;){if(S.key===j){if(j=y.type,j===Pr){if(S.tag===7){n(p,S.sibling),m=s(S,y.props.children),m.return=p,p=m;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===rn&&Ad(j)===S.type){n(p,S.sibling),m=s(S,y.props),m.ref=Ls(p,S,y),m.return=p,p=m;break e}n(p,S);break}else e(p,S);S=S.sibling}y.type===Pr?(m=ar(y.props.children,p.mode,b,y.key),m.return=p,p=m):(b=So(y.type,y.key,y.props,null,p.mode,b),b.ref=Ls(p,m,y),b.return=p,p=b)}return o(p);case Nr:e:{for(S=y.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=s(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=fl(y,p.mode,b),m.return=p,p=m}return o(p);case rn:return S=y._init,_(p,m,S(y._payload),b)}if(Bs(y))return x(p,m,y,b);if(Os(y))return w(p,m,y,b);to(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,y),m.return=p,p=m):(n(p,m),m=hl(y,p.mode,b),m.return=p,p=m),o(p)):n(p,m)}return _}var ds=vm(!0),wm=vm(!1),Fo=$n(null),Uo=null,Mr=null,hc=null;function fc(){hc=Mr=Uo=null}function mc(t){var e=Fo.current;re(Fo),t._currentValue=e}function Xl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qr(t,e){Uo=t,hc=Mr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Be=!0),t.firstContext=null)}function lt(t){var e=t._currentValue;if(hc!==t)if(t={context:t,memoizedValue:e,next:null},Mr===null){if(Uo===null)throw Error(P(308));Mr=t,Uo.dependencies={lanes:0,firstContext:t}}else Mr=Mr.next=t;return e}var Gn=null;function pc(t){Gn===null?Gn=[t]:Gn.push(t)}function xm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,pc(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qt(t,r)}function Qt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sn=!1;function gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _m(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Qt(t,n)}return s=r.interleaved,s===null?(e.next=e,pc(r)):(e.next=s.next,s.next=e),r.interleaved=e,Qt(t,n)}function vo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tc(t,n)}}function Id(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bo(t,e,n,r){var s=t.updateQueue;sn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,w=a;switch(f=e,g=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(g,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,f=typeof x=="function"?x.call(g,h,f):x,f==null)break e;h=ue({},h,f);break e;case 2:sn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);dr|=o,t.lanes=o,t.memoizedState=h}}function Ld(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var $i={},Rt=$n($i),gi=$n($i),yi=$n($i);function Jn(t){if(t===$i)throw Error(P(174));return t}function yc(t,e){switch(te(yi,e),te(gi,t),te(Rt,$i),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rl(e,t)}re(Rt),te(Rt,e)}function hs(){re(Rt),re(gi),re(yi)}function km(t){Jn(yi.current);var e=Jn(Rt.current),n=Rl(e,t.type);e!==n&&(te(gi,t),te(Rt,n))}function vc(t){gi.current===t&&(re(Rt),re(gi))}var oe=$n(0);function Wo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ol=[];function wc(){for(var t=0;t<ol.length;t++)ol[t]._workInProgressVersionPrimary=null;ol.length=0}var wo=Gt.ReactCurrentDispatcher,al=Gt.ReactCurrentBatchConfig,cr=0,ae=null,pe=null,xe=null,Vo=!1,Xs=!1,vi=0,E0=0;function Ee(){throw Error(P(321))}function xc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_t(t[n],e[n]))return!1;return!0}function _c(t,e,n,r,s,i){if(cr=i,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wo.current=t===null||t.memoizedState===null?P0:O0,t=n(r,s),Xs){i=0;do{if(Xs=!1,vi=0,25<=i)throw Error(P(301));i+=1,xe=pe=null,e.updateQueue=null,wo.current=T0,t=n(r,s)}while(Xs)}if(wo.current=qo,e=pe!==null&&pe.next!==null,cr=0,xe=pe=ae=null,Vo=!1,e)throw Error(P(300));return t}function kc(){var t=vi!==0;return vi=0,t}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ae.memoizedState=xe=t:xe=xe.next=t,xe}function ut(){if(pe===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=xe===null?ae.memoizedState:xe.next;if(e!==null)xe=e,pe=t;else{if(t===null)throw Error(P(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},xe===null?ae.memoizedState=xe=t:xe=xe.next=t}return xe}function wi(t,e){return typeof e=="function"?e(t):e}function ll(t){var e=ut(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((cr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ae.lanes|=d,dr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,_t(r,e.memoizedState)||(Be=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ae.lanes|=i,dr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ul(t){var e=ut(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_t(i,e.memoizedState)||(Be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bm(){}function Sm(t,e){var n=ae,r=ut(),s=e(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,bc(Cm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,xi(9,jm.bind(null,n,r,s,e),void 0,null),_e===null)throw Error(P(349));cr&30||Em(n,e,s)}return s}function Em(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jm(t,e,n,r){e.value=n,e.getSnapshot=r,Nm(e)&&Pm(t)}function Cm(t,e,n){return n(function(){Nm(e)&&Pm(t)})}function Nm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_t(t,n)}catch{return!0}}function Pm(t){var e=Qt(t,1);e!==null&&wt(e,t,1,-1)}function $d(t){var e=Et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},e.queue=t,t=t.dispatch=N0.bind(null,ae,t),[e.memoizedState,t]}function xi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Om(){return ut().memoizedState}function xo(t,e,n,r){var s=Et();ae.flags|=t,s.memoizedState=xi(1|e,n,void 0,r===void 0?null:r)}function ma(t,e,n,r){var s=ut();r=r===void 0?null:r;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,r!==null&&xc(r,o.deps)){s.memoizedState=xi(e,n,i,r);return}}ae.flags|=t,s.memoizedState=xi(1|e,n,i,r)}function Md(t,e){return xo(8390656,8,t,e)}function bc(t,e){return ma(2048,8,t,e)}function Tm(t,e){return ma(4,2,t,e)}function Rm(t,e){return ma(4,4,t,e)}function Am(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Im(t,e,n){return n=n!=null?n.concat([t]):null,ma(4,4,Am.bind(null,e,t),n)}function Sc(){}function Lm(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $m(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Mm(t,e,n){return cr&21?(_t(n,e)||(n=Bf(),ae.lanes|=n,dr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Be=!0),t.memoizedState=n)}function j0(t,e){var n=X;X=n!==0&&4>n?n:4,t(!0);var r=al.transition;al.transition={};try{t(!1),e()}finally{X=n,al.transition=r}}function Dm(){return ut().memoizedState}function C0(t,e,n){var r=Pn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zm(t))Fm(e,n);else if(n=xm(t,e,n,r),n!==null){var s=Ie();wt(n,t,r,s),Um(n,e,r)}}function N0(t,e,n){var r=Pn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zm(t))Fm(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,_t(a,o)){var l=e.interleaved;l===null?(s.next=s,pc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=xm(t,e,s,r),n!==null&&(s=Ie(),wt(n,t,r,s),Um(n,e,r))}}function zm(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function Fm(t,e){Xs=Vo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Um(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tc(t,n)}}var qo={readContext:lt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},P0={readContext:lt,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:lt,useEffect:Md,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xo(4194308,4,Am.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xo(4194308,4,t,e)},useInsertionEffect:function(t,e){return xo(4,2,t,e)},useMemo:function(t,e){var n=Et();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Et();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=C0.bind(null,ae,t),[r.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:$d,useDebugValue:Sc,useDeferredValue:function(t){return Et().memoizedState=t},useTransition:function(){var t=$d(!1),e=t[0];return t=j0.bind(null,t[1]),Et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ae,s=Et();if(se){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),_e===null)throw Error(P(349));cr&30||Em(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Md(Cm.bind(null,r,i,t),[t]),r.flags|=2048,xi(9,jm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Et(),e=_e.identifierPrefix;if(se){var n=Ut,r=Ft;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=E0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O0={readContext:lt,useCallback:Lm,useContext:lt,useEffect:bc,useImperativeHandle:Im,useInsertionEffect:Tm,useLayoutEffect:Rm,useMemo:$m,useReducer:ll,useRef:Om,useState:function(){return ll(wi)},useDebugValue:Sc,useDeferredValue:function(t){var e=ut();return Mm(e,pe.memoizedState,t)},useTransition:function(){var t=ll(wi)[0],e=ut().memoizedState;return[t,e]},useMutableSource:bm,useSyncExternalStore:Sm,useId:Dm,unstable_isNewReconciler:!1},T0={readContext:lt,useCallback:Lm,useContext:lt,useEffect:bc,useImperativeHandle:Im,useInsertionEffect:Tm,useLayoutEffect:Rm,useMemo:$m,useReducer:ul,useRef:Om,useState:function(){return ul(wi)},useDebugValue:Sc,useDeferredValue:function(t){var e=ut();return pe===null?e.memoizedState=t:Mm(e,pe.memoizedState,t)},useTransition:function(){var t=ul(wi)[0],e=ut().memoizedState;return[t,e]},useMutableSource:bm,useSyncExternalStore:Sm,useId:Dm,unstable_isNewReconciler:!1};function dt(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pa={isMounted:function(t){return(t=t._reactInternals)?yr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ie(),s=Pn(t),i=Bt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,s),e!==null&&(wt(e,t,s,r),vo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ie(),s=Pn(t),i=Bt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,s),e!==null&&(wt(e,t,s,r),vo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ie(),r=Pn(t),s=Bt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Cn(t,s,r),e!==null&&(wt(e,t,r,n),vo(e,t,r))}};function Dd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!hi(n,r)||!hi(s,i):!0}function Bm(t,e,n){var r=!1,s=An,i=e.contextType;return typeof i=="object"&&i!==null?i=lt(i):(s=Ve(e)?lr:Pe.current,r=e.contextTypes,i=(r=r!=null)?us(t,s):An),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pa.enqueueReplaceState(e,e.state,null)}function eu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},gc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=lt(i):(i=Ve(e)?lr:Pe.current,s.context=us(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zl(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&pa.enqueueReplaceState(s,s.state,null),Bo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fs(t,e){try{var n="",r=e;do n+=iy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function cl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R0=typeof WeakMap=="function"?WeakMap:Map;function Wm(t,e,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ho||(Ho=!0,du=r),tu(t,e)},n}function Vm(t,e,n){n=Bt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){tu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tu(t,e),typeof r!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R0;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Q0.bind(null,t,e,n),e.then(t,t))}function Ud(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bt(-1,1),e.tag=2,Cn(n,e,1))),n.lanes|=1),t)}var A0=Gt.ReactCurrentOwner,Be=!1;function Re(t,e,n,r){e.child=t===null?wm(e,null,n,r):ds(e,t.child,n,r)}function Wd(t,e,n,r,s){n=n.render;var i=e.ref;return qr(e,s),r=_c(t,e,n,r,i,s),n=kc(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ht(t,e,s)):(se&&n&&uc(e),e.flags|=1,Re(t,e,r,s),e.child)}function Vd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Rc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,qm(t,e,i,r,s)):(t=So(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(o,r)&&t.ref===e.ref)return Ht(t,e,s)}return e.flags|=1,t=On(i,r),t.ref=e.ref,t.return=e,e.child=t}function qm(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(hi(i,r)&&t.ref===e.ref)if(Be=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Be=!0);else return e.lanes=t.lanes,Ht(t,e,s)}return nu(t,e,n,r,s)}function Qm(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(zr,He),He|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(zr,He),He|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(zr,He),He|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,te(zr,He),He|=r;return Re(t,e,s,n),e.child}function Hm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nu(t,e,n,r,s){var i=Ve(n)?lr:Pe.current;return i=us(e,i),qr(e,s),n=_c(t,e,n,r,i,s),r=kc(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ht(t,e,s)):(se&&r&&uc(e),e.flags|=1,Re(t,e,n,s),e.child)}function qd(t,e,n,r,s){if(Ve(n)){var i=!0;Mo(e)}else i=!1;if(qr(e,s),e.stateNode===null)_o(t,e),Bm(e,n,r),eu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=Ve(n)?lr:Pe.current,u=us(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&zd(e,o,r,u),sn=!1;var f=e.memoizedState;o.state=f,Bo(e,r,o,s),l=e.memoizedState,a!==r||f!==l||We.current||sn?(typeof d=="function"&&(Zl(e,n,d,r),l=e.memoizedState),(a=sn||Dd(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_m(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lt(l):(l=Ve(n)?lr:Pe.current,l=us(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&zd(e,o,r,l),sn=!1,f=e.memoizedState,o.state=f,Bo(e,r,o,s);var x=e.memoizedState;a!==h||f!==x||We.current||sn?(typeof g=="function"&&(Zl(e,n,g,r),x=e.memoizedState),(u=sn||Dd(e,n,u,r,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ru(t,e,n,r,i,s)}function ru(t,e,n,r,s,i){Hm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Od(e,n,!1),Ht(t,e,i);r=e.stateNode,A0.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ds(e,t.child,null,i),e.child=ds(e,null,a,i)):Re(t,e,a,i),e.memoizedState=r.state,s&&Od(e,n,!0),e.child}function Km(t){var e=t.stateNode;e.pendingContext?Pd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pd(t,e.context,!1),yc(t,e.containerInfo)}function Qd(t,e,n,r,s){return cs(),dc(s),e.flags|=256,Re(t,e,n,r),e.child}var su={dehydrated:null,treeContext:null,retryLane:0};function iu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gm(t,e,n){var r=e.pendingProps,s=oe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),te(oe,s&1),t===null)return Yl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=va(o,r,0,null),t=ar(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=iu(n),e.memoizedState=su,t):Ec(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return I0(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=On(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=On(a,i):(i=ar(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?iu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=su,r}return i=t.child,t=i.sibling,r=On(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ec(t,e){return e=va({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function no(t,e,n,r){return r!==null&&dc(r),ds(e,t.child,null,n),t=Ec(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I0(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=cl(Error(P(422))),no(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=va({mode:"visible",children:r.children},s,0,null),i=ar(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ds(e,t.child,null,o),e.child.memoizedState=iu(o),e.memoizedState=su,i);if(!(e.mode&1))return no(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=cl(i,r,void 0),no(t,e,o,r)}if(a=(o&t.childLanes)!==0,Be||a){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qt(t,s),wt(r,t,s,-1))}return Tc(),r=cl(Error(P(421))),no(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=H0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ke=jn(s.nextSibling),Ge=e,se=!0,gt=null,t!==null&&(rt[st++]=Ft,rt[st++]=Ut,rt[st++]=ur,Ft=t.id,Ut=t.overflow,ur=e),e=Ec(e,r.children),e.flags|=4096,e)}function Hd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xl(t.return,e,n)}function dl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Jm(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Re(t,e,r.children,n),r=oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hd(t,n,e);else if(t.tag===19)Hd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(te(oe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Wo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),dl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Wo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}dl(e,!0,n,null,i);break;case"together":dl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _o(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ht(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=On(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=On(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function L0(t,e,n){switch(e.tag){case 3:Km(e),cs();break;case 5:km(e);break;case 1:Ve(e.type)&&Mo(e);break;case 4:yc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;te(Fo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(te(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?Gm(t,e,n):(te(oe,oe.current&1),t=Ht(t,e,n),t!==null?t.sibling:null);te(oe,oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(oe,oe.current),r)break;return null;case 22:case 23:return e.lanes=0,Qm(t,e,n)}return Ht(t,e,n)}var Ym,ou,Xm,Zm;Ym=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ou=function(){};Xm=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Jn(Rt.current);var i=null;switch(n){case"input":s=Nl(t,s),r=Nl(t,r),i=[];break;case"select":s=ue({},s,{value:void 0}),r=ue({},r,{value:void 0}),i=[];break;case"textarea":s=Tl(t,s),r=Tl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lo)}Al(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ii.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ii.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Zm=function(t,e,n,r){n!==r&&(e.flags|=4)};function $s(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $0(t,e,n){var r=e.pendingProps;switch(cc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(e),null;case 1:return Ve(e.type)&&$o(),je(e),null;case 3:return r=e.stateNode,hs(),re(We),re(Pe),wc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gt!==null&&(mu(gt),gt=null))),ou(t,e),je(e),null;case 5:vc(e);var s=Jn(yi.current);if(n=e.type,t!==null&&e.stateNode!=null)Xm(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return je(e),null}if(t=Jn(Rt.current),eo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ot]=e,r[pi]=i,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Vs.length;s++)ne(Vs[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":nd(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":sd(r,i),ne("invalid",r)}Al(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zi(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zi(r.textContent,a,t),s=["children",""+a]):ii.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":qi(r),rd(r,i,!0);break;case"textarea":qi(r),id(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Lo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ot]=e,t[pi]=r,Ym(t,e,!1,!1),e.stateNode=t;e:{switch(o=Il(n,r),n){case"dialog":ne("cancel",t),ne("close",t),s=r;break;case"iframe":case"object":case"embed":ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<Vs.length;s++)ne(Vs[s],t);s=r;break;case"source":ne("error",t),s=r;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=r;break;case"details":ne("toggle",t),s=r;break;case"input":nd(t,r),s=Nl(t,r),ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ue({},r,{value:void 0}),ne("invalid",t);break;case"textarea":sd(t,r),s=Tl(t,r),ne("invalid",t);break;default:s=r}Al(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Of(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oi(t,l):typeof l=="number"&&oi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ii.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",t):l!=null&&Gu(t,i,l,o))}switch(n){case"input":qi(t),rd(t,r,!1);break;case"textarea":qi(t),id(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ur(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ur(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Lo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return je(e),null;case 6:if(t&&e.stateNode!=null)Zm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Jn(yi.current),Jn(Rt.current),eo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ot]=e,(i=r.nodeValue!==n)&&(t=Ge,t!==null))switch(t.tag){case 3:Zi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zi(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=e,e.stateNode=r}return je(e),null;case 13:if(re(oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(se&&Ke!==null&&e.mode&1&&!(e.flags&128))ym(),cs(),e.flags|=98560,i=!1;else if(i=eo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Ot]=e}else cs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;je(e),i=!1}else gt!==null&&(mu(gt),gt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?ye===0&&(ye=3):Tc())),e.updateQueue!==null&&(e.flags|=4),je(e),null);case 4:return hs(),ou(t,e),t===null&&fi(e.stateNode.containerInfo),je(e),null;case 10:return mc(e.type._context),je(e),null;case 17:return Ve(e.type)&&$o(),je(e),null;case 19:if(re(oe),i=e.memoizedState,i===null)return je(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)$s(i,!1);else{if(ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wo(t),o!==null){for(e.flags|=128,$s(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(oe,oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&fe()>ms&&(e.flags|=128,r=!0,$s(i,!1),e.lanes=4194304)}else{if(!r)if(t=Wo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$s(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return je(e),null}else 2*fe()-i.renderingStartTime>ms&&n!==1073741824&&(e.flags|=128,r=!0,$s(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=fe(),e.sibling=null,n=oe.current,te(oe,r?n&1|2:n&1),e):(je(e),null);case 22:case 23:return Oc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?He&1073741824&&(je(e),e.subtreeFlags&6&&(e.flags|=8192)):je(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function M0(t,e){switch(cc(e),e.tag){case 1:return Ve(e.type)&&$o(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hs(),re(We),re(Pe),wc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vc(e),null;case 13:if(re(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(oe),null;case 4:return hs(),null;case 10:return mc(e.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var ro=!1,Ne=!1,D0=typeof WeakSet=="function"?WeakSet:Set,A=null;function Dr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(t,e,r)}else n.current=null}function au(t,e,n){try{n()}catch(r){de(t,e,r)}}var Kd=!1;function z0(t,e){if(Vl=Ro,t=sm(),lc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ql={focusedElem:t,selectionRange:n},Ro=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,_=x.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:dt(e.type,w),_);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(b){de(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return x=Kd,Kd=!1,x}function Zs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&au(e,n,i)}s=s.next}while(s!==r)}}function ga(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ep(t){var e=t.alternate;e!==null&&(t.alternate=null,ep(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ot],delete e[pi],delete e[Kl],delete e[_0],delete e[k0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tp(t){return t.tag===5||t.tag===3||t.tag===4}function Gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lo));else if(r!==4&&(t=t.child,t!==null))for(uu(t,e,n),t=t.sibling;t!==null;)uu(t,e,n),t=t.sibling}function cu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cu(t,e,n),t=t.sibling;t!==null;)cu(t,e,n),t=t.sibling}var ke=null,mt=!1;function Xt(t,e,n){for(n=n.child;n!==null;)np(t,e,n),n=n.sibling}function np(t,e,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(la,n)}catch{}switch(n.tag){case 5:Ne||Dr(n,e);case 6:var r=ke,s=mt;ke=null,Xt(t,e,n),ke=r,mt=s,ke!==null&&(mt?(t=ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(mt?(t=ke,n=n.stateNode,t.nodeType===8?sl(t.parentNode,n):t.nodeType===1&&sl(t,n),ci(t)):sl(ke,n.stateNode));break;case 4:r=ke,s=mt,ke=n.stateNode.containerInfo,mt=!0,Xt(t,e,n),ke=r,mt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&au(n,e,o),s=s.next}while(s!==r)}Xt(t,e,n);break;case 1:if(!Ne&&(Dr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){de(n,e,a)}Xt(t,e,n);break;case 21:Xt(t,e,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Xt(t,e,n),Ne=r):Xt(t,e,n);break;default:Xt(t,e,n)}}function Jd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D0),e.forEach(function(r){var s=K0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ct(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ke=a.stateNode,mt=!1;break e;case 3:ke=a.stateNode.containerInfo,mt=!0;break e;case 4:ke=a.stateNode.containerInfo,mt=!0;break e}a=a.return}if(ke===null)throw Error(P(160));np(i,o,s),ke=null,mt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){de(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rp(e,t),e=e.sibling}function rp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ct(e,t),bt(t),r&4){try{Zs(3,t,t.return),ga(3,t)}catch(w){de(t,t.return,w)}try{Zs(5,t,t.return)}catch(w){de(t,t.return,w)}}break;case 1:ct(e,t),bt(t),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(ct(e,t),bt(t),r&512&&n!==null&&Dr(n,n.return),t.flags&32){var s=t.stateNode;try{oi(s,"")}catch(w){de(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ef(s,i),Il(a,o);var u=Il(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Of(s,h):d==="dangerouslySetInnerHTML"?Nf(s,h):d==="children"?oi(s,h):Gu(s,d,h,u)}switch(a){case"input":Pl(s,i);break;case"textarea":jf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ur(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ur(s,!!i.multiple,i.defaultValue,!0):Ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[pi]=i}catch(w){de(t,t.return,w)}}break;case 6:if(ct(e,t),bt(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){de(t,t.return,w)}}break;case 3:if(ct(e,t),bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ci(e.containerInfo)}catch(w){de(t,t.return,w)}break;case 4:ct(e,t),bt(t);break;case 13:ct(e,t),bt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Nc=fe())),r&4&&Jd(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ne=(u=Ne)||d,ct(e,t),Ne=u):ct(e,t),bt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(A=t,d=t.child;d!==null;){for(h=A=d;A!==null;){switch(f=A,g=f.child,f.tag){case 0:case 11:case 14:case 15:Zs(4,f,f.return);break;case 1:Dr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){de(r,n,w)}}break;case 5:Dr(f,f.return);break;case 22:if(f.memoizedState!==null){Xd(h);continue}}g!==null?(g.return=f,A=g):Xd(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Pf("display",o))}catch(w){de(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){de(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ct(e,t),bt(t),r&4&&Jd(t);break;case 21:break;default:ct(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tp(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(oi(s,""),r.flags&=-33);var i=Gd(t);cu(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gd(t);uu(t,a,o);break;default:throw Error(P(161))}}catch(l){de(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F0(t,e,n){A=t,sp(t)}function sp(t,e,n){for(var r=(t.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ro;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ne;a=ro;var u=Ne;if(ro=o,(Ne=l)&&!u)for(A=s;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?Zd(s):l!==null?(l.return=o,A=l):Zd(s);for(;i!==null;)A=i,sp(i),i=i.sibling;A=s,ro=a,Ne=u}Yd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Yd(t)}}function Yd(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ne||ga(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ld(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ld(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ci(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ne||e.flags&512&&lu(e)}catch(f){de(e,e.return,f)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function Xd(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function Zd(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ga(4,e)}catch(l){de(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){de(e,s,l)}}var i=e.return;try{lu(e)}catch(l){de(e,i,l)}break;case 5:var o=e.return;try{lu(e)}catch(l){de(e,o,l)}}}catch(l){de(e,e.return,l)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var U0=Math.ceil,Qo=Gt.ReactCurrentDispatcher,jc=Gt.ReactCurrentOwner,ot=Gt.ReactCurrentBatchConfig,H=0,_e=null,me=null,be=0,He=0,zr=$n(0),ye=0,_i=null,dr=0,ya=0,Cc=0,ei=null,Fe=null,Nc=0,ms=1/0,Lt=null,Ho=!1,du=null,Nn=null,so=!1,_n=null,Ko=0,ti=0,hu=null,ko=-1,bo=0;function Ie(){return H&6?fe():ko!==-1?ko:ko=fe()}function Pn(t){return t.mode&1?H&2&&be!==0?be&-be:S0.transition!==null?(bo===0&&(bo=Bf()),bo):(t=X,t!==0||(t=window.event,t=t===void 0?16:Gf(t.type)),t):1}function wt(t,e,n,r){if(50<ti)throw ti=0,hu=null,Error(P(185));Ai(t,n,r),(!(H&2)||t!==_e)&&(t===_e&&(!(H&2)&&(ya|=n),ye===4&&ln(t,be)),qe(t,r),n===1&&H===0&&!(e.mode&1)&&(ms=fe()+500,fa&&Mn()))}function qe(t,e){var n=t.callbackNode;Sy(t,e);var r=To(t,t===_e?be:0);if(r===0)n!==null&&ld(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ld(n),e===1)t.tag===0?b0(eh.bind(null,t)):mm(eh.bind(null,t)),w0(function(){!(H&6)&&Mn()}),n=null;else{switch(Wf(r)){case 1:n=ec;break;case 4:n=Ff;break;case 16:n=Oo;break;case 536870912:n=Uf;break;default:n=Oo}n=hp(n,ip.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ip(t,e){if(ko=-1,bo=0,H&6)throw Error(P(327));var n=t.callbackNode;if(Qr()&&t.callbackNode!==n)return null;var r=To(t,t===_e?be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Go(t,r);else{e=r;var s=H;H|=2;var i=ap();(_e!==t||be!==e)&&(Lt=null,ms=fe()+500,or(t,e));do try{V0();break}catch(a){op(t,a)}while(!0);fc(),Qo.current=i,H=s,me!==null?e=0:(_e=null,be=0,e=ye)}if(e!==0){if(e===2&&(s=zl(t),s!==0&&(r=s,e=fu(t,s))),e===1)throw n=_i,or(t,0),ln(t,r),qe(t,fe()),n;if(e===6)ln(t,r);else{if(s=t.current.alternate,!(r&30)&&!B0(s)&&(e=Go(t,r),e===2&&(i=zl(t),i!==0&&(r=i,e=fu(t,i))),e===1))throw n=_i,or(t,0),ln(t,r),qe(t,fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Wn(t,Fe,Lt);break;case 3:if(ln(t,r),(r&130023424)===r&&(e=Nc+500-fe(),10<e)){if(To(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ie(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hl(Wn.bind(null,t,Fe,Lt),e);break}Wn(t,Fe,Lt);break;case 4:if(ln(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-vt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U0(r/1960))-r,10<r){t.timeoutHandle=Hl(Wn.bind(null,t,Fe,Lt),r);break}Wn(t,Fe,Lt);break;case 5:Wn(t,Fe,Lt);break;default:throw Error(P(329))}}}return qe(t,fe()),t.callbackNode===n?ip.bind(null,t):null}function fu(t,e){var n=ei;return t.current.memoizedState.isDehydrated&&(or(t,e).flags|=256),t=Go(t,e),t!==2&&(e=Fe,Fe=n,e!==null&&mu(e)),t}function mu(t){Fe===null?Fe=t:Fe.push.apply(Fe,t)}function B0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ln(t,e){for(e&=~Cc,e&=~ya,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vt(e),r=1<<n;t[n]=-1,e&=~r}}function eh(t){if(H&6)throw Error(P(327));Qr();var e=To(t,0);if(!(e&1))return qe(t,fe()),null;var n=Go(t,e);if(t.tag!==0&&n===2){var r=zl(t);r!==0&&(e=r,n=fu(t,r))}if(n===1)throw n=_i,or(t,0),ln(t,e),qe(t,fe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wn(t,Fe,Lt),qe(t,fe()),null}function Pc(t,e){var n=H;H|=1;try{return t(e)}finally{H=n,H===0&&(ms=fe()+500,fa&&Mn())}}function hr(t){_n!==null&&_n.tag===0&&!(H&6)&&Qr();var e=H;H|=1;var n=ot.transition,r=X;try{if(ot.transition=null,X=1,t)return t()}finally{X=r,ot.transition=n,H=e,!(H&6)&&Mn()}}function Oc(){He=zr.current,re(zr)}function or(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,v0(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(cc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$o();break;case 3:hs(),re(We),re(Pe),wc();break;case 5:vc(r);break;case 4:hs();break;case 13:re(oe);break;case 19:re(oe);break;case 10:mc(r.type._context);break;case 22:case 23:Oc()}n=n.return}if(_e=t,me=t=On(t.current,null),be=He=e,ye=0,_i=null,Cc=ya=dr=0,Fe=ei=null,Gn!==null){for(e=0;e<Gn.length;e++)if(n=Gn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gn=null}return t}function op(t,e){do{var n=me;try{if(fc(),wo.current=qo,Vo){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vo=!1}if(cr=0,xe=pe=ae=null,Xs=!1,vi=0,jc.current=null,n===null||n.return===null){ye=1,_i=e,me=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Ud(o);if(g!==null){g.flags&=-257,Bd(g,o,a,i,e),g.mode&1&&Fd(i,u,e),e=g,l=u;var x=e.updateQueue;if(x===null){var w=new Set;w.add(l),e.updateQueue=w}else x.add(l);break e}else{if(!(e&1)){Fd(i,u,e),Tc();break e}l=Error(P(426))}}else if(se&&a.mode&1){var _=Ud(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Bd(_,o,a,i,e),dc(fs(l,a));break e}}i=l=fs(l,a),ye!==4&&(ye=2),ei===null?ei=[i]:ei.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Wm(i,l,e);Id(i,p);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Nn===null||!Nn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Vm(i,a,e);Id(i,b);break e}}i=i.return}while(i!==null)}up(n)}catch(j){e=j,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function ap(){var t=Qo.current;return Qo.current=qo,t===null?qo:t}function Tc(){(ye===0||ye===3||ye===2)&&(ye=4),_e===null||!(dr&268435455)&&!(ya&268435455)||ln(_e,be)}function Go(t,e){var n=H;H|=2;var r=ap();(_e!==t||be!==e)&&(Lt=null,or(t,e));do try{W0();break}catch(s){op(t,s)}while(!0);if(fc(),H=n,Qo.current=r,me!==null)throw Error(P(261));return _e=null,be=0,ye}function W0(){for(;me!==null;)lp(me)}function V0(){for(;me!==null&&!py();)lp(me)}function lp(t){var e=dp(t.alternate,t,He);t.memoizedProps=t.pendingProps,e===null?up(t):me=e,jc.current=null}function up(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M0(n,e),n!==null){n.flags&=32767,me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ye=6,me=null;return}}else if(n=$0(n,e,He),n!==null){me=n;return}if(e=e.sibling,e!==null){me=e;return}me=e=t}while(e!==null);ye===0&&(ye=5)}function Wn(t,e,n){var r=X,s=ot.transition;try{ot.transition=null,X=1,q0(t,e,n,r)}finally{ot.transition=s,X=r}return null}function q0(t,e,n,r){do Qr();while(_n!==null);if(H&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ey(t,i),t===_e&&(me=_e=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||so||(so=!0,hp(Oo,function(){return Qr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var o=X;X=1;var a=H;H|=4,jc.current=null,z0(t,n),rp(n,t),d0(ql),Ro=!!Vl,ql=Vl=null,t.current=n,F0(n),gy(),H=a,X=o,ot.transition=i}else t.current=n;if(so&&(so=!1,_n=t,Ko=s),i=t.pendingLanes,i===0&&(Nn=null),wy(n.stateNode),qe(t,fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,t=du,du=null,t;return Ko&1&&t.tag!==0&&Qr(),i=t.pendingLanes,i&1?t===hu?ti++:(ti=0,hu=t):ti=0,Mn(),null}function Qr(){if(_n!==null){var t=Wf(Ko),e=ot.transition,n=X;try{if(ot.transition=null,X=16>t?16:t,_n===null)var r=!1;else{if(t=_n,_n=null,Ko=0,H&6)throw Error(P(331));var s=H;for(H|=4,A=t.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:Zs(8,d,i)}var h=d.child;if(h!==null)h.return=d,A=h;else for(;A!==null;){d=A;var f=d.sibling,g=d.return;if(ep(d),d===u){A=null;break}if(f!==null){f.return=g,A=f;break}A=g}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zs(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,A=p;break e}A=i.return}}var m=t.current;for(A=m;A!==null;){o=A;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,A=y;else e:for(o=m;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ga(9,a)}}catch(j){de(a,a.return,j)}if(a===o){A=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,A=b;break e}A=a.return}}if(H=s,Mn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(la,t)}catch{}r=!0}return r}finally{X=n,ot.transition=e}}return!1}function th(t,e,n){e=fs(n,e),e=Wm(t,e,1),t=Cn(t,e,1),e=Ie(),t!==null&&(Ai(t,1,e),qe(t,e))}function de(t,e,n){if(t.tag===3)th(t,t,n);else for(;e!==null;){if(e.tag===3){th(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nn===null||!Nn.has(r))){t=fs(n,t),t=Vm(e,t,1),e=Cn(e,t,1),t=Ie(),e!==null&&(Ai(e,1,t),qe(e,t));break}}e=e.return}}function Q0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ie(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(be&n)===n&&(ye===4||ye===3&&(be&130023424)===be&&500>fe()-Nc?or(t,0):Cc|=n),qe(t,e)}function cp(t,e){e===0&&(t.mode&1?(e=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):e=1);var n=Ie();t=Qt(t,e),t!==null&&(Ai(t,e,n),qe(t,n))}function H0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cp(t,n)}function K0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),cp(t,n)}var dp;dp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||We.current)Be=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Be=!1,L0(t,e,n);Be=!!(t.flags&131072)}else Be=!1,se&&e.flags&1048576&&pm(e,zo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_o(t,e),t=e.pendingProps;var s=us(e,Pe.current);qr(e,n),s=_c(null,e,r,t,s,n);var i=kc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ve(r)?(i=!0,Mo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gc(e),s.updater=pa,e.stateNode=s,s._reactInternals=e,eu(e,r,t,n),e=ru(null,e,r,!0,i,n)):(e.tag=0,se&&i&&uc(e),Re(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_o(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=J0(r),t=dt(r,t),s){case 0:e=nu(null,e,r,t,n);break e;case 1:e=qd(null,e,r,t,n);break e;case 11:e=Wd(null,e,r,t,n);break e;case 14:e=Vd(null,e,r,dt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dt(r,s),nu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dt(r,s),qd(t,e,r,s,n);case 3:e:{if(Km(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_m(t,e),Bo(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fs(Error(P(423)),e),e=Qd(t,e,r,n,s);break e}else if(r!==s){s=fs(Error(P(424)),e),e=Qd(t,e,r,n,s);break e}else for(Ke=jn(e.stateNode.containerInfo.firstChild),Ge=e,se=!0,gt=null,n=wm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cs(),r===s){e=Ht(t,e,n);break e}Re(t,e,r,n)}e=e.child}return e;case 5:return km(e),t===null&&Yl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ql(r,s)?o=null:i!==null&&Ql(r,i)&&(e.flags|=32),Hm(t,e),Re(t,e,o,n),e.child;case 6:return t===null&&Yl(e),null;case 13:return Gm(t,e,n);case 4:return yc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ds(e,null,r,n):Re(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dt(r,s),Wd(t,e,r,s,n);case 7:return Re(t,e,e.pendingProps,n),e.child;case 8:return Re(t,e,e.pendingProps.children,n),e.child;case 12:return Re(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,te(Fo,r._currentValue),r._currentValue=o,i!==null)if(_t(i.value,o)){if(i.children===s.children&&!We.current){e=Ht(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Bt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Xl(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xl(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Re(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qr(e,n),s=lt(s),r=r(s),e.flags|=1,Re(t,e,r,n),e.child;case 14:return r=e.type,s=dt(r,e.pendingProps),s=dt(r.type,s),Vd(t,e,r,s,n);case 15:return qm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dt(r,s),_o(t,e),e.tag=1,Ve(r)?(t=!0,Mo(e)):t=!1,qr(e,n),Bm(e,r,s),eu(e,r,s,n),ru(null,e,r,!0,t,n);case 19:return Jm(t,e,n);case 22:return Qm(t,e,n)}throw Error(P(156,e.tag))};function hp(t,e){return zf(t,e)}function G0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,r){return new G0(t,e,n,r)}function Rc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J0(t){if(typeof t=="function")return Rc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yu)return 11;if(t===Xu)return 14}return 2}function On(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function So(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Rc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pr:return ar(n.children,s,i,e);case Ju:o=8,s|=8;break;case Sl:return t=it(12,n,e,s|2),t.elementType=Sl,t.lanes=i,t;case El:return t=it(13,n,e,s),t.elementType=El,t.lanes=i,t;case jl:return t=it(19,n,e,s),t.elementType=jl,t.lanes=i,t;case kf:return va(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xf:o=10;break e;case _f:o=9;break e;case Yu:o=11;break e;case Xu:o=14;break e;case rn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=it(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ar(t,e,n,r){return t=it(7,t,r,e),t.lanes=n,t}function va(t,e,n,r){return t=it(22,t,r,e),t.elementType=kf,t.lanes=n,t.stateNode={isHidden:!1},t}function hl(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function fl(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Y0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ac(t,e,n,r,s,i,o,a,l){return t=new Y0(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=it(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gc(i),t}function X0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fp(t){if(!t)return An;t=t._reactInternals;e:{if(yr(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ve(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ve(n))return fm(t,n,e)}return e}function mp(t,e,n,r,s,i,o,a,l){return t=Ac(n,r,!0,t,s,i,o,a,l),t.context=fp(null),n=t.current,r=Ie(),s=Pn(n),i=Bt(r,s),i.callback=e??null,Cn(n,i,s),t.current.lanes=s,Ai(t,s,r),qe(t,r),t}function wa(t,e,n,r){var s=e.current,i=Ie(),o=Pn(s);return n=fp(n),e.context===null?e.context=n:e.pendingContext=n,e=Bt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cn(s,e,o),t!==null&&(wt(t,s,o,i),vo(t,s,o)),o}function Jo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ic(t,e){nh(t,e),(t=t.alternate)&&nh(t,e)}function Z0(){return null}var pp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lc(t){this._internalRoot=t}xa.prototype.render=Lc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));wa(t,e,null,null)};xa.prototype.unmount=Lc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hr(function(){wa(null,t,null,null)}),e[qt]=null}};function xa(t){this._internalRoot=t}xa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<an.length&&e!==0&&e<an[n].priority;n++);an.splice(n,0,t),n===0&&Kf(t)}};function $c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rh(){}function ev(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Jo(o);i.call(u)}}var o=mp(e,r,t,0,null,!1,!1,"",rh);return t._reactRootContainer=o,t[qt]=o.current,fi(t.nodeType===8?t.parentNode:t),hr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Jo(l);a.call(u)}}var l=Ac(t,0,!1,null,null,!1,!1,"",rh);return t._reactRootContainer=l,t[qt]=l.current,fi(t.nodeType===8?t.parentNode:t),hr(function(){wa(e,l,n,r)}),l}function ka(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Jo(o);a.call(l)}}wa(e,o,t,s)}else o=ev(n,e,t,s,r);return Jo(o)}Vf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ws(e.pendingLanes);n!==0&&(tc(e,n|1),qe(e,fe()),!(H&6)&&(ms=fe()+500,Mn()))}break;case 13:hr(function(){var r=Qt(t,1);if(r!==null){var s=Ie();wt(r,t,1,s)}}),Ic(t,1)}};nc=function(t){if(t.tag===13){var e=Qt(t,134217728);if(e!==null){var n=Ie();wt(e,t,134217728,n)}Ic(t,134217728)}};qf=function(t){if(t.tag===13){var e=Pn(t),n=Qt(t,e);if(n!==null){var r=Ie();wt(n,t,e,r)}Ic(t,e)}};Qf=function(){return X};Hf=function(t,e){var n=X;try{return X=t,e()}finally{X=n}};$l=function(t,e,n){switch(e){case"input":if(Pl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ha(r);if(!s)throw Error(P(90));Sf(r),Pl(r,s)}}}break;case"textarea":jf(t,n);break;case"select":e=n.value,e!=null&&Ur(t,!!n.multiple,e,!1)}};Af=Pc;If=hr;var tv={usingClientEntryPoint:!1,Events:[Li,Ar,ha,Tf,Rf,Pc]},Ms={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nv={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mf(t),t===null?null:t.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{la=io.inject(nv),Tt=io}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tv;Ye.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$c(e))throw Error(P(200));return X0(t,e,null,n)};Ye.createRoot=function(t,e){if(!$c(t))throw Error(P(299));var n=!1,r="",s=pp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ac(t,1,!1,null,null,n,!1,r,s),t[qt]=e.current,fi(t.nodeType===8?t.parentNode:t),new Lc(e)};Ye.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Mf(e),t=t===null?null:t.stateNode,t};Ye.flushSync=function(t){return hr(t)};Ye.hydrate=function(t,e,n){if(!_a(e))throw Error(P(200));return ka(null,t,e,!0,n)};Ye.hydrateRoot=function(t,e,n){if(!$c(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mp(e,null,t,1,n??null,s,!1,i,o),t[qt]=e.current,fi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new xa(e)};Ye.render=function(t,e,n){if(!_a(e))throw Error(P(200));return ka(null,t,e,!1,n)};Ye.unmountComponentAtNode=function(t){if(!_a(t))throw Error(P(40));return t._reactRootContainer?(hr(function(){ka(null,null,t,!1,function(){t._reactRootContainer=null,t[qt]=null})}),!0):!1};Ye.unstable_batchedUpdates=Pc;Ye.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_a(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return ka(t,e,n,!1,r)};Ye.version="18.3.1-next-f1338f8080-20240426";function gp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gp)}catch(t){console.error(t)}}gp(),gf.exports=Ye;var rv=gf.exports,yp,sh=rv;yp=sh.createRoot,sh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ki(){return ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ki.apply(this,arguments)}var kn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kn||(kn={}));const ih="popstate";function sv(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return pu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Yo(s)}return ov(e,n,null,t)}function le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iv(){return Math.random().toString(36).substr(2,8)}function oh(t,e){return{usr:t.state,key:t.key,idx:e}}function pu(t,e,n,r){return n===void 0&&(n=null),ki({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ks(e):e,{state:n,key:e&&e.key||r||iv()})}function Yo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ov(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=kn.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ki({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=kn.Pop;let _=d(),p=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:p})}function f(_,p){a=kn.Push;let m=pu(w.location,_,p);u=d()+1;let y=oh(m,u),b=w.createHref(m);try{o.pushState(y,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(b)}i&&l&&l({action:a,location:w.location,delta:1})}function g(_,p){a=kn.Replace;let m=pu(w.location,_,p);u=d();let y=oh(m,u),b=w.createHref(m);o.replaceState(y,"",b),i&&l&&l({action:a,location:w.location,delta:0})}function x(_){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:Yo(_);return m=m.replace(/ $/,"%20"),le(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let w={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ih,h),l=_,()=>{s.removeEventListener(ih,h),l=null}},createHref(_){return e(s,_)},createURL:x,encodeLocation(_){let p=x(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(_){return o.go(_)}};return w}var ah;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ah||(ah={}));function av(t,e,n){return n===void 0&&(n="/"),lv(t,e,n,!1)}function lv(t,e,n,r){let s=typeof e=="string"?ks(e):e,i=ps(s.pathname||"/",n);if(i==null)return null;let o=wp(t);uv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=xv(i);a=vv(o[l],u,r)}return a}function wp(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Tn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wp(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:gv(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of xp(i.path))s(i,o,l)}),e}function xp(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=xp(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uv(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yv(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cv=/^:[\w-]+$/,dv=3,hv=2,fv=1,mv=10,pv=-2,lh=t=>t==="*";function gv(t,e){let n=t.split("/"),r=n.length;return n.some(lh)&&(r+=pv),e&&(r+=hv),n.filter(s=>!lh(s)).reduce((s,i)=>s+(cv.test(i)?dv:i===""?fv:mv),r)}function yv(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vv(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Xo({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Xo({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Tn([i,h.pathname]),pathnameBase:Sv(Tn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Tn([i,h.pathnameBase]))}return o}function Xo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wv(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[h];return g&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function wv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _v(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ks(t):t;return{pathname:n?n.startsWith("/")?n:kv(n,e):e,search:Ev(r),hash:jv(s)}}function kv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ml(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mc(t,e){let n=bv(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Dc(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ks(t):(s=ki({},t),le(!s.pathname||!s.pathname.includes("?"),ml("?","pathname","search",s)),le(!s.pathname||!s.pathname.includes("#"),ml("#","pathname","hash",s)),le(!s.search||!s.search.includes("#"),ml("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=_v(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Tn=t=>t.join("/").replace(/\/\/+/g,"/"),Sv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ev=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _p=["post","put","patch","delete"];new Set(_p);const Nv=["get",..._p];new Set(Nv);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bi.apply(this,arguments)}const ba=k.createContext(null),kp=k.createContext(null),Jt=k.createContext(null),Sa=k.createContext(null),Yt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),bp=k.createContext(null);function Pv(t,e){let{relative:n}=e===void 0?{}:e;bs()||le(!1);let{basename:r,navigator:s}=k.useContext(Jt),{hash:i,pathname:o,search:a}=Ea(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Tn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function bs(){return k.useContext(Sa)!=null}function vr(){return bs()||le(!1),k.useContext(Sa).location}function Sp(t){k.useContext(Jt).static||k.useLayoutEffect(t)}function Ss(){let{isDataRoute:t}=k.useContext(Yt);return t?Vv():Ov()}function Ov(){bs()||le(!1);let t=k.useContext(ba),{basename:e,future:n,navigator:r}=k.useContext(Jt),{matches:s}=k.useContext(Yt),{pathname:i}=vr(),o=JSON.stringify(Mc(s,n.v7_relativeSplatPath)),a=k.useRef(!1);return Sp(()=>{a.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Dc(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Tn([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const Tv=k.createContext(null);function Rv(t){let e=k.useContext(Yt).outlet;return e&&k.createElement(Tv.Provider,{value:t},e)}function Ea(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Jt),{matches:s}=k.useContext(Yt),{pathname:i}=vr(),o=JSON.stringify(Mc(s,r.v7_relativeSplatPath));return k.useMemo(()=>Dc(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Av(t,e){return Iv(t,e)}function Iv(t,e,n,r){bs()||le(!1);let{navigator:s,static:i}=k.useContext(Jt),{matches:o}=k.useContext(Yt),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=vr(),h;if(e){var f;let p=typeof e=="string"?ks(e):e;u==="/"||(f=p.pathname)!=null&&f.startsWith(u)||le(!1),h=p}else h=d;let g=h.pathname||"/",x=g;if(u!=="/"){let p=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=!i&&n&&n.matches&&n.matches.length>0?n.matches:av(t,{pathname:x}),_=zv(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Tn([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Tn([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,r);return e&&_?k.createElement(Sa.Provider,{value:{location:bi({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:kn.Pop}},_):_}function Lv(){let t=Wv(),e=Cv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,null)}const $v=k.createElement(Lv,null);class Mv extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Yt.Provider,{value:this.props.routeContext},k.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dv(t){let{routeContext:e,match:n,children:r}=t,s=k.useContext(ba);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Yt.Provider,{value:e},r)}function zv(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||le(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,x=!1,w=null,_=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||$v,l&&(u<0&&f===0?(x=!0,_=null):u===f&&(x=!0,_=h.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,f+1)),m=()=>{let y;return g?y=w:x?y=_:h.route.Component?y=k.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,k.createElement(Dv,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(Mv,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Ep=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ep||{}),Zo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zo||{});function Fv(t){let e=k.useContext(ba);return e||le(!1),e}function Uv(t){let e=k.useContext(kp);return e||le(!1),e}function Bv(t){let e=k.useContext(Yt);return e||le(!1),e}function jp(t){let e=Bv(),n=e.matches[e.matches.length-1];return n.route.id||le(!1),n.route.id}function Wv(){var t;let e=k.useContext(bp),n=Uv(Zo.UseRouteError),r=jp(Zo.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Vv(){let{router:t}=Fv(Ep.UseNavigateStable),e=jp(Zo.UseNavigateStable),n=k.useRef(!1);return Sp(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,bi({fromRouteId:e},i)))},[t,e])}function qv(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function uh(t){let{to:e,replace:n,state:r,relative:s}=t;bs()||le(!1);let{future:i,static:o}=k.useContext(Jt),{matches:a}=k.useContext(Yt),{pathname:l}=vr(),u=Ss(),d=Dc(e,Mc(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Qv(t){return Rv(t.context)}function et(t){le(!1)}function Hv(t){let{basename:e="/",children:n=null,location:r,navigationType:s=kn.Pop,navigator:i,static:o=!1,future:a}=t;bs()&&le(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:i,static:o,future:bi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ks(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:x="default"}=r,w=k.useMemo(()=>{let _=ps(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:g,key:x},navigationType:s}},[l,d,h,f,g,x,s]);return w==null?null:k.createElement(Jt.Provider,{value:u},k.createElement(Sa.Provider,{children:n,value:w}))}function ch(t){let{children:e,location:n}=t;return Av(gu(e),n)}new Promise(()=>{});function gu(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,gu(r.props.children,i));return}r.type!==et&&le(!1),!r.props.index||!r.props.children||le(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(this,arguments)}function Cp(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Kv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gv(t,e){return t.button===0&&(!e||e==="_self")&&!Kv(t)}const Jv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Xv="6";try{window.__reactRouterVersion=Xv}catch{}const Zv=k.createContext({isTransitioning:!1}),ew="startTransition",dh=Qg[ew];function tw(t){let{basename:e,children:n,future:r,window:s}=t,i=k.useRef();i.current==null&&(i.current=sv({window:s,v5Compat:!0}));let o=i.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=k.useCallback(h=>{u&&dh?dh(()=>l(h)):l(h)},[l,u]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>qv(r),[r]),k.createElement(Hv,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zc=k.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=Cp(e,Jv),{basename:g}=k.useContext(Jt),x,w=!1;if(typeof u=="string"&&rw.test(u)&&(x=u,nw))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),j=ps(b.pathname,g);b.origin===y.origin&&j!=null?u=j+b.search+b.hash:w=!0}catch{}let _=Pv(u,{relative:s}),p=ow(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||p(y)}return k.createElement("a",ea({},f,{href:x||_,onClick:w||i?r:m,ref:n,target:l}))}),sw=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:u,children:d}=e,h=Cp(e,Yv),f=Ea(l,{relative:h.relative}),g=vr(),x=k.useContext(kp),{navigator:w,basename:_}=k.useContext(Jt),p=x!=null&&aw(f)&&u===!0,m=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,y=g.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(y=y.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&_&&(b=ps(b,_)||b);const j=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=y===m||!o&&y.startsWith(m)&&y.charAt(j)==="/",N=b!=null&&(b===m||!o&&b.startsWith(m)&&b.charAt(m.length)==="/"),O={isActive:S,isPending:N,isTransitioning:p},C=S?r:void 0,E;typeof i=="function"?E=i(O):E=[i,S?"active":null,N?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(O):a;return k.createElement(zc,ea({},h,{"aria-current":C,className:E,ref:n,style:I,to:l,viewTransition:u}),typeof d=="function"?d(O):d)});var yu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yu||(yu={}));var hh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hh||(hh={}));function iw(t){let e=k.useContext(ba);return e||le(!1),e}function ow(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Ss(),u=vr(),d=Ea(t,{relative:o});return k.useCallback(h=>{if(Gv(h,n)){h.preventDefault();let f=r!==void 0?r:Yo(u)===Yo(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}function aw(t,e){e===void 0&&(e={});let n=k.useContext(Zv);n==null&&le(!1);let{basename:r}=iw(yu.useViewTransitionState),s=Ea(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xo(s.pathname,o)!=null||Xo(s.pathname,i)!=null}var Es=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fr=typeof window>"u"||"Deno"in globalThis;function nt(){}function lw(t,e){return typeof t=="function"?t(e):t}function vu(t){return typeof t=="number"&&t>=0&&t!==1/0}function Np(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hr(t,e){return typeof t=="function"?t(e):t}function yt(t,e){return typeof t=="function"?t(e):t}function fh(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Fc(o,e.options))return!1}else if(!Si(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function mh(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(mr(e.options.mutationKey)!==mr(i))return!1}else if(!Si(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Fc(t,e){return((e==null?void 0:e.queryKeyHashFn)||mr)(t)}function mr(t){return JSON.stringify(t,(e,n)=>wu(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Si(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Si(t[n],e[n])):!1}function Pp(t,e){if(t===e)return t;const n=ph(t)&&ph(e);if(n||wu(t)&&wu(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=Pp(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function ta(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ph(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wu(t){if(!gh(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!gh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gh(t){return Object.prototype.toString.call(t)==="[object Object]"}function uw(t){return new Promise(e=>{setTimeout(e,t)})}function xu(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Pp(t,e):e}function cw(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dw(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Uc=Symbol();function Op(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Uc?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xn,dn,Gr,Qh,hw=(Qh=class extends Es{constructor(){super();L(this,Xn);L(this,dn);L(this,Gr);R(this,Gr,e=>{if(!fr&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){v(this,dn)||this.setEventListener(v(this,Gr))}onUnsubscribe(){var e;this.hasListeners()||((e=v(this,dn))==null||e.call(this),R(this,dn,void 0))}setEventListener(e){var n;R(this,Gr,e),(n=v(this,dn))==null||n.call(this),R(this,dn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){v(this,Xn)!==e&&(R(this,Xn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof v(this,Xn)=="boolean"?v(this,Xn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xn=new WeakMap,dn=new WeakMap,Gr=new WeakMap,Qh),Bc=new hw,Jr,hn,Yr,Hh,fw=(Hh=class extends Es{constructor(){super();L(this,Jr,!0);L(this,hn);L(this,Yr);R(this,Yr,e=>{if(!fr&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){v(this,hn)||this.setEventListener(v(this,Yr))}onUnsubscribe(){var e;this.hasListeners()||((e=v(this,hn))==null||e.call(this),R(this,hn,void 0))}setEventListener(e){var n;R(this,Yr,e),(n=v(this,hn))==null||n.call(this),R(this,hn,e(this.setOnline.bind(this)))}setOnline(e){v(this,Jr)!==e&&(R(this,Jr,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return v(this,Jr)}},Jr=new WeakMap,hn=new WeakMap,Yr=new WeakMap,Hh),na=new fw;function _u(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function mw(t){return Math.min(1e3*2**t,3e4)}function Tp(t){return(t??"online")==="online"?na.isOnline():!0}var Rp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function pl(t){return t instanceof Rp}function Ap(t){let e=!1,n=0,r=!1,s;const i=_u(),o=w=>{var _;r||(f(new Rp(w)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>Bc.isFocused()&&(t.networkMode==="always"||na.isOnline())&&t.canRun(),d=()=>Tp(t.networkMode)&&t.canRun(),h=w=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,w),s==null||s(),i.resolve(w))},f=w=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,w),s==null||s(),i.reject(w))},g=()=>new Promise(w=>{var _;s=p=>{(r||u())&&w(p)},(_=t.onPause)==null||_.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),x=()=>{if(r)return;let w;const _=n===0?t.initialPromise:void 0;try{w=_??t.fn()}catch(p){w=Promise.reject(p)}Promise.resolve(w).then(h).catch(p=>{var S;if(r)return;const m=t.retry??(fr?0:3),y=t.retryDelay??mw,b=typeof y=="function"?y(n,p):y,j=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,p);if(e||!j){f(p);return}n++,(S=t.onFail)==null||S.call(t,n,p),uw(b).then(()=>u()?void 0:g()).then(()=>{e?f(p):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():g().then(x),i)}}function pw(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ge=pw(),Zn,Kh,Ip=(Kh=class{constructor(){L(this,Zn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vu(this.gcTime)&&R(this,Zn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fr?1/0:5*60*1e3))}clearGcTimeout(){v(this,Zn)&&(clearTimeout(v(this,Zn)),R(this,Zn,void 0))}},Zn=new WeakMap,Kh),Xr,Zr,tt,er,Ce,Ni,tr,ht,It,Gh,gw=(Gh=class extends Ip{constructor(e){super();L(this,ht);L(this,Xr);L(this,Zr);L(this,tt);L(this,er);L(this,Ce);L(this,Ni);L(this,tr);R(this,tr,!1),R(this,Ni,e.defaultOptions),this.setOptions(e.options),this.observers=[],R(this,er,e.client),R(this,tt,v(this,er).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,R(this,Xr,yw(this.options)),this.state=e.state??v(this,Xr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=v(this,Ce))==null?void 0:e.promise}setOptions(e){this.options={...v(this,Ni),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&v(this,tt).remove(this)}setData(e,n){const r=xu(this.state.data,e,this.options);return U(this,ht,It).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){U(this,ht,It).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=v(this,Ce))==null?void 0:r.promise;return(s=v(this,Ce))==null||s.cancel(e),n?n.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(v(this,Xr))}isActive(){return this.observers.some(e=>yt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Np(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=v(this,Ce))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=v(this,Ce))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),v(this,tt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(v(this,Ce)&&(v(this,tr)?v(this,Ce).cancel({revert:!0}):v(this,Ce).cancelRetry()),this.scheduleGc()),v(this,tt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||U(this,ht,It).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(v(this,Ce))return v(this,Ce).continueRetry(),v(this,Ce).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(R(this,tr,!0),r.signal)})},i=()=>{const h=Op(this.options,n),f={client:v(this,er),queryKey:this.queryKey,meta:this.meta};return s(f),R(this,tr,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:v(this,er),state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),R(this,Zr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&U(this,ht,It).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,g,x,w;pl(h)&&h.silent||U(this,ht,It).call(this,{type:"error",error:h}),pl(h)||((g=(f=v(this,tt).config).onError)==null||g.call(f,h,this),(w=(x=v(this,tt).config).onSettled)==null||w.call(x,this.state.data,h,this)),this.scheduleGc()};return R(this,Ce,Ap({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,g,x,w;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(_){a(_);return}(g=(f=v(this,tt).config).onSuccess)==null||g.call(f,h,this),(w=(x=v(this,tt).config).onSettled)==null||w.call(x,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{U(this,ht,It).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{U(this,ht,It).call(this,{type:"pause"})},onContinue:()=>{U(this,ht,It).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),v(this,Ce).start()}},Xr=new WeakMap,Zr=new WeakMap,tt=new WeakMap,er=new WeakMap,Ce=new WeakMap,Ni=new WeakMap,tr=new WeakMap,ht=new WeakSet,It=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Lp(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return pl(s)&&s.revert&&v(this,Zr)?{...v(this,Zr),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ge.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),v(this,tt).notify({query:this,type:"updated",action:e})})},Gh);function Lp(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Tp(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var jt,Jh,vw=(Jh=class extends Es{constructor(e={}){super();L(this,jt);this.config=e,R(this,jt,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Fc(s,n);let o=this.get(i);return o||(o=new gw({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){v(this,jt).has(e.queryHash)||(v(this,jt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=v(this,jt).get(e.queryHash);n&&(e.destroy(),n===e&&v(this,jt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ge.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return v(this,jt).get(e)}getAll(){return[...v(this,jt).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fh(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>fh(e,r)):n}notify(e){ge.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ge.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ge.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},jt=new WeakMap,Jh),Ct,Oe,nr,Nt,en,Yh,ww=(Yh=class extends Ip{constructor(e){super();L(this,Nt);L(this,Ct);L(this,Oe);L(this,nr);this.mutationId=e.mutationId,R(this,Oe,e.mutationCache),R(this,Ct,[]),this.state=e.state||$p(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){v(this,Ct).includes(e)||(v(this,Ct).push(e),this.clearGcTimeout(),v(this,Oe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){R(this,Ct,v(this,Ct).filter(n=>n!==e)),this.scheduleGc(),v(this,Oe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){v(this,Ct).length||(this.state.status==="pending"?this.scheduleGc():v(this,Oe).remove(this))}continue(){var e;return((e=v(this,nr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,u,d,h,f,g,x,w,_,p,m,y,b,j,S,N;R(this,nr,Ap({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,C)=>{U(this,Nt,en).call(this,{type:"failed",failureCount:O,error:C})},onPause:()=>{U(this,Nt,en).call(this,{type:"pause"})},onContinue:()=>{U(this,Nt,en).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>v(this,Oe).canRun(this)}));const n=this.state.status==="pending",r=!v(this,nr).canStart();try{if(!n){U(this,Nt,en).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=v(this,Oe).config).onMutate)==null?void 0:i.call(s,e,this));const C=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));C!==this.state.context&&U(this,Nt,en).call(this,{type:"pending",context:C,variables:e,isPaused:r})}const O=await v(this,nr).start();return await((u=(l=v(this,Oe).config).onSuccess)==null?void 0:u.call(l,O,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,O,e,this.state.context)),await((g=(f=v(this,Oe).config).onSettled)==null?void 0:g.call(f,O,null,this.state.variables,this.state.context,this)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,O,null,e,this.state.context)),U(this,Nt,en).call(this,{type:"success",data:O}),O}catch(O){try{throw await((p=(_=v(this,Oe).config).onError)==null?void 0:p.call(_,O,e,this.state.context,this)),await((y=(m=this.options).onError)==null?void 0:y.call(m,O,e,this.state.context)),await((j=(b=v(this,Oe).config).onSettled)==null?void 0:j.call(b,void 0,O,this.state.variables,this.state.context,this)),await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,O,e,this.state.context)),O}finally{U(this,Nt,en).call(this,{type:"error",error:O})}}finally{v(this,Oe).runNext(this)}}},Ct=new WeakMap,Oe=new WeakMap,nr=new WeakMap,Nt=new WeakSet,en=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ge.batch(()=>{v(this,Ct).forEach(r=>{r.onMutationUpdate(e)}),v(this,Oe).notify({mutation:this,type:"updated",action:e})})},Yh);function $p(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dt,ft,Pi,Xh,xw=(Xh=class extends Es{constructor(e={}){super();L(this,Dt);L(this,ft);L(this,Pi);this.config=e,R(this,Dt,new Set),R(this,ft,new Map),R(this,Pi,0)}build(e,n,r){const s=new ww({mutationCache:this,mutationId:++Bi(this,Pi)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){v(this,Dt).add(e);const n=oo(e);if(typeof n=="string"){const r=v(this,ft).get(n);r?r.push(e):v(this,ft).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(v(this,Dt).delete(e)){const n=oo(e);if(typeof n=="string"){const r=v(this,ft).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&v(this,ft).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=oo(e);if(typeof n=="string"){const r=v(this,ft).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=oo(e);if(typeof n=="string"){const s=(r=v(this,ft).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ge.batch(()=>{v(this,Dt).forEach(e=>{this.notify({type:"removed",mutation:e})}),v(this,Dt).clear(),v(this,ft).clear()})}getAll(){return Array.from(v(this,Dt))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mh(n,r))}findAll(e={}){return this.getAll().filter(n=>mh(e,n))}notify(e){ge.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ge.batch(()=>Promise.all(e.map(n=>n.continue().catch(nt))))}},Dt=new WeakMap,ft=new WeakMap,Pi=new WeakMap,Xh);function oo(t){var e;return(e=t.options.scope)==null?void 0:e.id}function yh(t){return{onFetch:(e,n)=>{var d,h,f,g,x;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const _=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},p=Op(e.options,e.fetchOptions),m=async(y,b,j)=>{if(w)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const S={client:e.client,queryKey:e.queryKey,pageParam:b,direction:j?"backward":"forward",meta:e.options.meta};_(S);const N=await p(S),{maxPages:O}=e.options,C=j?dw:cw;return{pages:C(y.pages,N,O),pageParams:C(y.pageParams,b,O)}};if(s&&i.length){const y=s==="backward",b=y?_w:vh,j={pages:i,pageParams:o},S=b(r,j);a=await m(j,S,y)}else{const y=t??i.length;do{const b=l===0?o[0]??r.initialPageParam:vh(r,a);if(l>0&&b==null)break;a=await m(a,b),l++}while(l<y)}return a};e.options.persister?e.fetchFn=()=>{var w,_;return(_=(w=e.options).persister)==null?void 0:_.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function vh(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function _w(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ce,fn,mn,es,ts,pn,ns,rs,Zh,kw=(Zh=class{constructor(t={}){L(this,ce);L(this,fn);L(this,mn);L(this,es);L(this,ts);L(this,pn);L(this,ns);L(this,rs);R(this,ce,t.queryCache||new vw),R(this,fn,t.mutationCache||new xw),R(this,mn,t.defaultOptions||{}),R(this,es,new Map),R(this,ts,new Map),R(this,pn,0)}mount(){Bi(this,pn)._++,v(this,pn)===1&&(R(this,ns,Bc.subscribe(async t=>{t&&(await this.resumePausedMutations(),v(this,ce).onFocus())})),R(this,rs,na.subscribe(async t=>{t&&(await this.resumePausedMutations(),v(this,ce).onOnline())})))}unmount(){var t,e;Bi(this,pn)._--,v(this,pn)===0&&((t=v(this,ns))==null||t.call(this),R(this,ns,void 0),(e=v(this,rs))==null||e.call(this),R(this,rs,void 0))}isFetching(t){return v(this,ce).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return v(this,fn).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=v(this,ce).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=v(this,ce).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Hr(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return v(this,ce).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=v(this,ce).get(r.queryHash),i=s==null?void 0:s.state.data,o=lw(e,i);if(o!==void 0)return v(this,ce).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ge.batch(()=>v(this,ce).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=v(this,ce).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=v(this,ce);ge.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=v(this,ce);return ge.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ge.batch(()=>v(this,ce).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(nt).catch(nt)}invalidateQueries(t,e={}){return ge.batch(()=>(v(this,ce).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ge.batch(()=>v(this,ce).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=v(this,ce).build(this,e);return n.isStaleByTime(Hr(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(nt).catch(nt)}fetchInfiniteQuery(t){return t.behavior=yh(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(nt).catch(nt)}ensureInfiniteQueryData(t){return t.behavior=yh(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return na.isOnline()?v(this,fn).resumePausedMutations():Promise.resolve()}getQueryCache(){return v(this,ce)}getMutationCache(){return v(this,fn)}getDefaultOptions(){return v(this,mn)}setDefaultOptions(t){R(this,mn,t)}setQueryDefaults(t,e){v(this,es).set(mr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...v(this,es).values()],n={};return e.forEach(r=>{Si(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){v(this,ts).set(mr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...v(this,ts).values()],n={};return e.forEach(r=>{Si(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...v(this,mn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Fc(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Uc&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...v(this,mn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){v(this,ce).clear(),v(this,fn).clear()}},ce=new WeakMap,fn=new WeakMap,mn=new WeakMap,es=new WeakMap,ts=new WeakMap,pn=new WeakMap,ns=new WeakMap,rs=new WeakMap,Zh),De,q,Oi,Te,rr,ss,gn,Pt,Ti,is,os,sr,ir,yn,as,J,qs,ku,bu,Su,Eu,ju,Cu,Nu,Mp,ef,bw=(ef=class extends Es{constructor(e,n){super();L(this,J);L(this,De);L(this,q);L(this,Oi);L(this,Te);L(this,rr);L(this,ss);L(this,gn);L(this,Pt);L(this,Ti);L(this,is);L(this,os);L(this,sr);L(this,ir);L(this,yn);L(this,as,new Set);this.options=n,R(this,De,e),R(this,Pt,null),R(this,gn,_u()),this.options.experimental_prefetchInRender||v(this,gn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(v(this,q).addObserver(this),wh(v(this,q),this.options)?U(this,J,qs).call(this):this.updateResult(),U(this,J,Eu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pu(v(this,q),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pu(v(this,q),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,U(this,J,ju).call(this),U(this,J,Cu).call(this),v(this,q).removeObserver(this)}setOptions(e,n){const r=this.options,s=v(this,q);if(this.options=v(this,De).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yt(this.options.enabled,v(this,q))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");U(this,J,Nu).call(this),v(this,q).setOptions(this.options),r._defaulted&&!ta(this.options,r)&&v(this,De).getQueryCache().notify({type:"observerOptionsUpdated",query:v(this,q),observer:this});const i=this.hasListeners();i&&xh(v(this,q),s,this.options,r)&&U(this,J,qs).call(this),this.updateResult(n),i&&(v(this,q)!==s||yt(this.options.enabled,v(this,q))!==yt(r.enabled,v(this,q))||Hr(this.options.staleTime,v(this,q))!==Hr(r.staleTime,v(this,q)))&&U(this,J,ku).call(this);const o=U(this,J,bu).call(this);i&&(v(this,q)!==s||yt(this.options.enabled,v(this,q))!==yt(r.enabled,v(this,q))||o!==v(this,yn))&&U(this,J,Su).call(this,o)}getOptimisticResult(e){const n=v(this,De).getQueryCache().build(v(this,De),e),r=this.createResult(n,e);return Ew(this,r)&&(R(this,Te,r),R(this,ss,this.options),R(this,rr,v(this,q).state)),r}getCurrentResult(){return v(this,Te)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){v(this,as).add(e)}getCurrentQuery(){return v(this,q)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=v(this,De).defaultQueryOptions(e),r=v(this,De).getQueryCache().build(v(this,De),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return U(this,J,qs).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),v(this,Te)))}createResult(e,n){var O;const r=v(this,q),s=this.options,i=v(this,Te),o=v(this,rr),a=v(this,ss),u=e!==r?e.state:v(this,Oi),{state:d}=e;let h={...d},f=!1,g;if(n._optimisticResults){const C=this.hasListeners(),E=!C&&wh(e,n),I=C&&xh(e,r,n,s);(E||I)&&(h={...h,...Lp(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:_}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===v(this,Ti))g=v(this,is);else try{R(this,Ti,n.select),g=n.select(h.data),g=xu(i==null?void 0:i.data,g,n),R(this,is,g),R(this,Pt,null)}catch(C){R(this,Pt,C)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&_==="pending"){let C;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))C=i.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((O=v(this,os))==null?void 0:O.state.data,v(this,os)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),R(this,Pt,null)}catch(E){R(this,Pt,E)}C!==void 0&&(_="success",g=xu(i==null?void 0:i.data,C,n),f=!0)}v(this,Pt)&&(x=v(this,Pt),g=v(this,is),w=Date.now(),_="error");const p=h.fetchStatus==="fetching",m=_==="pending",y=_==="error",b=m&&p,j=g!==void 0,N={status:_,fetchStatus:h.fetchStatus,isPending:m,isSuccess:_==="success",isError:y,isInitialLoading:b,isLoading:b,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!m,isLoadingError:y&&!j,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:y&&j,isStale:Wc(e,n),refetch:this.refetch,promise:v(this,gn)};if(this.options.experimental_prefetchInRender){const C=K=>{N.status==="error"?K.reject(N.error):N.data!==void 0&&K.resolve(N.data)},E=()=>{const K=R(this,gn,N.promise=_u());C(K)},I=v(this,gn);switch(I.status){case"pending":e.queryHash===r.queryHash&&C(I);break;case"fulfilled":(N.status==="error"||N.data!==I.value)&&E();break;case"rejected":(N.status!=="error"||N.error!==I.reason)&&E();break}}return N}updateResult(e){const n=v(this,Te),r=this.createResult(v(this,q),this.options);if(R(this,rr,v(this,q).state),R(this,ss,this.options),v(this,rr).data!==void 0&&R(this,os,v(this,q)),ta(r,n))return;R(this,Te,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!v(this,as).size)return!0;const l=new Set(a??v(this,as));return this.options.throwOnError&&l.add("error"),Object.keys(v(this,Te)).some(u=>{const d=u;return v(this,Te)[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),U(this,J,Mp).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&U(this,J,Eu).call(this)}},De=new WeakMap,q=new WeakMap,Oi=new WeakMap,Te=new WeakMap,rr=new WeakMap,ss=new WeakMap,gn=new WeakMap,Pt=new WeakMap,Ti=new WeakMap,is=new WeakMap,os=new WeakMap,sr=new WeakMap,ir=new WeakMap,yn=new WeakMap,as=new WeakMap,J=new WeakSet,qs=function(e){U(this,J,Nu).call(this);let n=v(this,q).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(nt)),n},ku=function(){U(this,J,ju).call(this);const e=Hr(this.options.staleTime,v(this,q));if(fr||v(this,Te).isStale||!vu(e))return;const r=Np(v(this,Te).dataUpdatedAt,e)+1;R(this,sr,setTimeout(()=>{v(this,Te).isStale||this.updateResult()},r))},bu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(v(this,q)):this.options.refetchInterval)??!1},Su=function(e){U(this,J,Cu).call(this),R(this,yn,e),!(fr||yt(this.options.enabled,v(this,q))===!1||!vu(v(this,yn))||v(this,yn)===0)&&R(this,ir,setInterval(()=>{(this.options.refetchIntervalInBackground||Bc.isFocused())&&U(this,J,qs).call(this)},v(this,yn)))},Eu=function(){U(this,J,ku).call(this),U(this,J,Su).call(this,U(this,J,bu).call(this))},ju=function(){v(this,sr)&&(clearTimeout(v(this,sr)),R(this,sr,void 0))},Cu=function(){v(this,ir)&&(clearInterval(v(this,ir)),R(this,ir,void 0))},Nu=function(){const e=v(this,De).getQueryCache().build(v(this,De),this.options);if(e===v(this,q))return;const n=v(this,q);R(this,q,e),R(this,Oi,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Mp=function(e){ge.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(v(this,Te))}),v(this,De).getQueryCache().notify({query:v(this,q),type:"observerResultsUpdated"})})},ef);function Sw(t,e){return yt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function wh(t,e){return Sw(t,e)||t.state.data!==void 0&&Pu(t,e,e.refetchOnMount)}function Pu(t,e,n){if(yt(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Wc(t,e)}return!1}function xh(t,e,n,r){return(t!==e||yt(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Wc(t,n)}function Wc(t,e){return yt(e.enabled,t)!==!1&&t.isStaleByTime(Hr(e.staleTime,t))}function Ew(t,e){return!ta(t.getCurrentResult(),e)}var vn,wn,ze,zt,Wt,Eo,Ou,tf,jw=(tf=class extends Es{constructor(n,r){super();L(this,Wt);L(this,vn);L(this,wn);L(this,ze);L(this,zt);R(this,vn,n),this.setOptions(r),this.bindMethods(),U(this,Wt,Eo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=v(this,vn).defaultMutationOptions(n),ta(this.options,r)||v(this,vn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:v(this,ze),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&mr(r.mutationKey)!==mr(this.options.mutationKey)?this.reset():((s=v(this,ze))==null?void 0:s.state.status)==="pending"&&v(this,ze).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=v(this,ze))==null||n.removeObserver(this)}onMutationUpdate(n){U(this,Wt,Eo).call(this),U(this,Wt,Ou).call(this,n)}getCurrentResult(){return v(this,wn)}reset(){var n;(n=v(this,ze))==null||n.removeObserver(this),R(this,ze,void 0),U(this,Wt,Eo).call(this),U(this,Wt,Ou).call(this)}mutate(n,r){var s;return R(this,zt,r),(s=v(this,ze))==null||s.removeObserver(this),R(this,ze,v(this,vn).getMutationCache().build(v(this,vn),this.options)),v(this,ze).addObserver(this),v(this,ze).execute(n)}},vn=new WeakMap,wn=new WeakMap,ze=new WeakMap,zt=new WeakMap,Wt=new WeakSet,Eo=function(){var r;const n=((r=v(this,ze))==null?void 0:r.state)??$p();R(this,wn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ou=function(n){ge.batch(()=>{var r,s,i,o,a,l,u,d;if(v(this,zt)&&this.hasListeners()){const h=v(this,wn).variables,f=v(this,wn).context;(n==null?void 0:n.type)==="success"?((s=(r=v(this,zt)).onSuccess)==null||s.call(r,n.data,h,f),(o=(i=v(this,zt)).onSettled)==null||o.call(i,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((l=(a=v(this,zt)).onError)==null||l.call(a,n.error,h,f),(d=(u=v(this,zt)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(v(this,wn))})})},tf),Dp=k.createContext(void 0),js=t=>{const e=k.useContext(Dp);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Cw=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(Dp.Provider,{value:t,children:e})),zp=k.createContext(!1),Nw=()=>k.useContext(zp);zp.Provider;function Pw(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ow=k.createContext(Pw()),Tw=()=>k.useContext(Ow);function Fp(t,e){return typeof t=="function"?t(...e):!!t}function Tu(){}var Rw=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Aw=t=>{k.useEffect(()=>{t.clearReset()},[t])},Iw=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Fp(n,[t.error,r])),Lw=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},$w=(t,e)=>t.isLoading&&t.isFetching&&!e,Mw=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,_h=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Dw(t,e,n){var h,f,g,x,w;const r=js(),s=Nw(),i=Tw(),o=r.defaultQueryOptions(t);(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",Lw(o),Rw(o,i),Aw(i);const a=!r.getQueryCache().get(o.queryHash),[l]=k.useState(()=>new e(r,o)),u=l.getOptimisticResult(o),d=!s&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(_=>{const p=d?l.subscribe(ge.batchCalls(_)):Tu;return l.updateResult(),p},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),k.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),Mw(o,u))throw _h(o,l,i);if(Iw({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,o,u),o.experimental_prefetchInRender&&!fr&&$w(u,s)){const _=a?_h(o,l,i):(w=r.getQueryCache().get(o.queryHash))==null?void 0:w.promise;_==null||_.catch(Tu).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function In(t,e){return Dw(t,bw)}function xt(t,e){const n=js(),[r]=k.useState(()=>new jw(n,t));k.useEffect(()=>{r.setOptions(t)},[r,t]);const s=k.useSyncExternalStore(k.useCallback(o=>r.subscribe(ge.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=k.useCallback((o,a)=>{r.mutate(o,a).catch(Tu)},[r]);if(s.error&&Fp(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}let zw={data:""},Fw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||zw,Uw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Bw=/\/\*[^]*?\*\/|  +/g,kh=/\n+/g,un=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?un(o,i):i+"{"+un(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=un(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=un.p?un.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},At={},Up=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Up(t[n]);return e}return t},Ww=(t,e,n,r,s)=>{let i=Up(t),o=At[i]||(At[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!At[o]){let l=i!==t?t:(u=>{let d,h,f=[{}];for(;d=Uw.exec(u.replace(Bw,""));)d[4]?f.shift():d[3]?(h=d[3].replace(kh," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(kh," ").trim();return f[0]})(t);At[o]=un(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&At.g?At.g:null;return n&&(At.g=At[o]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(At[o],e,r,a),o},Vw=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":un(a,""):a===!1?"":a}return r+s+(o??"")},"");function ja(t){let e=this||{},n=t.call?t(e.p):t;return Ww(n.unshift?n.raw?Vw(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,Fw(e.target),e.g,e.o,e.k)}let Bp,Ru,Au;ja.bind({g:1});let Kt=ja.bind({k:1});function qw(t,e,n,r){un.p=e,Bp=t,Ru=n,Au=r}function Dn(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Ru&&Ru()},a),n.o=/ *go\d+/.test(l),a.className=ja.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),Au&&u[0]&&Au(a),Bp(u,a)}return s}}var Qw=t=>typeof t=="function",ra=(t,e)=>Qw(t)?t(e):t,Hw=(()=>{let t=0;return()=>(++t).toString()})(),Wp=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Kw=20,Vp=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Kw)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return Vp(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},jo=[],Yn={toasts:[],pausedAt:void 0},wr=t=>{Yn=Vp(Yn,t),jo.forEach(e=>{e(Yn)})},Gw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Jw=(t={})=>{let[e,n]=k.useState(Yn),r=k.useRef(Yn);k.useEffect(()=>(r.current!==Yn&&n(Yn),jo.push(n),()=>{let i=jo.indexOf(n);i>-1&&jo.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||Gw[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},Yw=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Hw()}),Mi=t=>(e,n)=>{let r=Yw(e,t,n);return wr({type:2,toast:r}),r.id},Ae=(t,e)=>Mi("blank")(t,e);Ae.error=Mi("error");Ae.success=Mi("success");Ae.loading=Mi("loading");Ae.custom=Mi("custom");Ae.dismiss=t=>{wr({type:3,toastId:t})};Ae.remove=t=>wr({type:4,toastId:t});Ae.promise=(t,e,n)=>{let r=Ae.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?ra(e.success,s):void 0;return i?Ae.success(i,{id:r,...n,...n==null?void 0:n.success}):Ae.dismiss(r),s}).catch(s=>{let i=e.error?ra(e.error,s):void 0;i?Ae.error(i,{id:r,...n,...n==null?void 0:n.error}):Ae.dismiss(r)}),t};var Xw=(t,e)=>{wr({type:1,toast:{id:t,height:e}})},Zw=()=>{wr({type:5,time:Date.now()})},ni=new Map,ex=1e3,tx=(t,e=ex)=>{if(ni.has(t))return;let n=setTimeout(()=>{ni.delete(t),wr({type:4,toastId:t})},e);ni.set(t,n)},nx=t=>{let{toasts:e,pausedAt:n}=Jw(t);k.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Ae.dismiss(a.id);return}return setTimeout(()=>Ae.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=k.useCallback(()=>{n&&wr({type:6,time:Date.now()})},[n]),s=k.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},d=e.filter(g=>(g.position||u)===(i.position||u)&&g.height),h=d.findIndex(g=>g.id===i.id),f=d.filter((g,x)=>x<h&&g.visible).length;return d.filter(g=>g.visible).slice(...a?[f+1]:[0,f]).reduce((g,x)=>g+(x.height||0)+l,0)},[e]);return k.useEffect(()=>{e.forEach(i=>{if(i.dismissed)tx(i.id,i.removeDelay);else{let o=ni.get(i.id);o&&(clearTimeout(o),ni.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:Xw,startPause:Zw,endPause:r,calculateOffset:s}}},rx=Kt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sx=Kt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ix=Kt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ox=Dn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ix} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ax=Kt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lx=Dn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ax} 1s linear infinite;
`,ux=Kt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,cx=Kt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dx=Dn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ux} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${cx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hx=Dn("div")`
  position: absolute;
`,fx=Dn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mx=Kt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,px=Dn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gx=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(px,null,e):e:n==="blank"?null:k.createElement(fx,null,k.createElement(lx,{...r}),n!=="loading"&&k.createElement(hx,null,n==="error"?k.createElement(ox,{...r}):k.createElement(dx,{...r})))},yx=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,vx=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,wx="0%{opacity:0;} 100%{opacity:1;}",xx="0%{opacity:1;} 100%{opacity:0;}",_x=Dn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kx=Dn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bx=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Wp()?[wx,xx]:[yx(n),vx(n)];return{animation:e?`${Kt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Kt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Sx=k.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?bx(t.position||e||"top-center",t.visible):{opacity:0},i=k.createElement(gx,{toast:t}),o=k.createElement(kx,{...t.ariaProps},ra(t.message,t));return k.createElement(_x,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):k.createElement(k.Fragment,null,i,o))});qw(k.createElement);var Ex=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=k.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:i,className:e,style:n},s)},jx=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Wp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},Cx=ja`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ao=16,Nx=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=nx(n);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ao,left:ao,right:ao,bottom:ao,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||e,h=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),f=jx(d,h);return k.createElement(Ex,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?Cx:"",style:f},u.type==="custom"?ra(u.message,u):s?s(u):k.createElement(Sx,{toast:u,position:d}))}))},D=Ae;const Px="modulepreload",Ox=function(t){return"/"+t},bh={},gs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Ox(l),l in bh)return;bh[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Px,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Tx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>gs(async()=>{const{default:r}=await Promise.resolve().then(()=>Cs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Vc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Rx extends Vc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ax extends Vc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ix extends Vc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Iu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Iu||(Iu={}));var Lx=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class $x{constructor(e,{headers:n={},customFetch:r,region:s=Iu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Tx(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Lx(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new Rx(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Ax(d);if(!d.ok)throw new Ix(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ue={},qc={},Ca={},Di={},Na={},Pa={},Mx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ys=Mx();const Dx=ys.fetch,qp=ys.fetch.bind(ys),Qp=ys.Headers,zx=ys.Request,Fx=ys.Response,Cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qp,Request:zx,Response:Fx,default:qp,fetch:Dx},Symbol.toStringTag,{value:"Module"})),Ux=Og(Cs);var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});let Bx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Oa.default=Bx;var Hp=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pa,"__esModule",{value:!0});const Wx=Hp(Ux),Vx=Hp(Oa);let qx=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Wx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&w===""?(f=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new Vx.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Pa.default=qx;var Qx=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Na,"__esModule",{value:!0});const Hx=Qx(Pa);let Kx=class extends Hx.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Na.default=Kx;var Gx=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Di,"__esModule",{value:!0});const Jx=Gx(Na);let Yx=class extends Jx.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Di.default=Yx;var Xx=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ca,"__esModule",{value:!0});const Ds=Xx(Di);let Zx=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ds.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ds.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ds.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ds.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ds.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ca.default=Zx;var Ta={},Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.version=void 0;Ra.version="0.0.0-automated";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.DEFAULT_HEADERS=void 0;const e1=Ra;Ta.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e1.version}`};var Kp=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qc,"__esModule",{value:!0});const t1=Kp(Ca),n1=Kp(Di),r1=Ta;let s1=class Gp{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},r1.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new t1.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Gp(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new n1.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};qc.default=s1;var Ns=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.PostgrestError=Ue.PostgrestBuilder=Ue.PostgrestTransformBuilder=Ue.PostgrestFilterBuilder=Ue.PostgrestQueryBuilder=Ue.PostgrestClient=void 0;const Jp=Ns(qc);Ue.PostgrestClient=Jp.default;const Yp=Ns(Ca);Ue.PostgrestQueryBuilder=Yp.default;const Xp=Ns(Di);Ue.PostgrestFilterBuilder=Xp.default;const Zp=Ns(Na);Ue.PostgrestTransformBuilder=Zp.default;const eg=Ns(Pa);Ue.PostgrestBuilder=eg.default;const tg=Ns(Oa);Ue.PostgrestError=tg.default;var i1=Ue.default={PostgrestClient:Jp.default,PostgrestQueryBuilder:Yp.default,PostgrestFilterBuilder:Xp.default,PostgrestTransformBuilder:Zp.default,PostgrestBuilder:eg.default,PostgrestError:tg.default};const{PostgrestClient:o1,PostgrestQueryBuilder:Xb,PostgrestFilterBuilder:Zb,PostgrestTransformBuilder:eS,PostgrestBuilder:tS,PostgrestError:nS}=i1,a1="2.11.2",l1={"X-Client-Info":`realtime-js/${a1}`},u1="1.0.0",ng=1e4,c1=1e3;var Kr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kr||(Kr={}));var Qe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qe||(Qe={}));var pt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pt||(pt={}));var Lu;(function(t){t.websocket="websocket"})(Lu||(Lu={}));var Qn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qn||(Qn={}));class d1{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class rg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ee||(ee={}));const Sh=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=h1(o,t,e,s),i),{})},h1=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?sg(i,o):$u(o)},sg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return g1(e,n)}switch(t){case ee.bool:return f1(e);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return m1(e);case ee.json:case ee.jsonb:return p1(e);case ee.timestamp:return y1(e);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return $u(e);default:return $u(e)}},$u=t=>t,f1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},m1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},p1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},g1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>sg(e,a))}return t},y1=t=>typeof t=="string"?t.replace(" ","T"):t,ig=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class gl{constructor(e,n,r={},s=ng){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Eh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Eh||(Eh={}));class ri{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ri.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ri.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ri.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(_=>_.presence_ref),g=h.map(_=>_.presence_ref),x=d.filter(_=>g.indexOf(_.presence_ref)<0),w=h.filter(_=>f.indexOf(_.presence_ref)<0);x.length>0&&(a[u]=x),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jh||(jh={}));var Ch;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ch||(Ch={}));var $t;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($t||($t={}));class Qc{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gl(this,pt.join,this.params,this.timeout),this.rejoinTimer=new rg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ri(this),this.broadcastEndpointURL=ig(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e($t.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e($t.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e($t.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<g;w++){const _=f[w],{filter:{event:p,schema:m,table:y,filter:b}}=_,j=d&&d[w];if(j&&j.event===p&&j.schema===m&&j.table===y&&j.filter===b)x.push(Object.assign(Object.assign({},_),{id:j.id}));else{this.unsubscribe(),e==null||e($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e($t.SUBSCRIBED);return}}).receive("error",d=>{e==null||e($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new gl(this,pt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gl(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=pt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,w,_;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(w=g.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,w,_,p,m,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,j=(x=g.filter)===null||x===void 0?void 0:x.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(m=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:w,table:_,commit_timestamp:p,type:m,errors:y}=x;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:p,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(x))}g.callback(f,r)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Qc.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pt.close,{},e)}_onError(e){this._on(pt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Sh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Sh(e.columns,e.old_record)),n}}const v1=()=>{},w1=typeof WebSocket<"u",x1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _1{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=l1,this.params={},this.timeout=ng,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=v1,this.conn=null,this.sendBuffer=[],this.serializer=new d1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>gs(async()=>{const{default:l}=await Promise.resolve().then(()=>Cs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Lu.websocket}`,this.httpEndpoint=ig(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new rg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(w1){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new k1(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gs(async()=>{const{default:e}=await import("./browser-CqbKTyM_.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:u1}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kr.connecting:return Qn.Connecting;case Kr.open:return Qn.Open;case Kr.closing:return Qn.Closing;default:return Qn.Closed}}isConnected(){return this.connectionState()===Qn.Open}channel(e,n={config:{}}){const r=new Qc(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(pt.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(c1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(pt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([x1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class k1{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Kr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Hc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function we(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class b1 extends Hc{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mu extends Hc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var S1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const og=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>gs(async()=>{const{default:r}=await Promise.resolve().then(()=>Cs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},E1=()=>S1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gs(()=>Promise.resolve().then(()=>Cs),void 0)).Response:Response}),Du=t=>{if(Array.isArray(t))return t.map(n=>Du(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Du(r)}),e};var xr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const yl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),j1=(t,e,n)=>xr(void 0,void 0,void 0,function*(){const r=yield E1();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new b1(yl(s),t.status||500))}).catch(s=>{e(new Mu(yl(s),s))}):e(new Mu(yl(t),t))}),C1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function zi(t,e,n,r,s,i){return xr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,C1(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>j1(l,a,r))})})}function sa(t,e,n,r){return xr(this,void 0,void 0,function*(){return zi(t,"GET",e,n,r)})}function on(t,e,n,r,s){return xr(this,void 0,void 0,function*(){return zi(t,"POST",e,r,s,n)})}function N1(t,e,n,r,s){return xr(this,void 0,void 0,function*(){return zi(t,"PUT",e,r,s,n)})}function P1(t,e,n,r){return xr(this,void 0,void 0,function*(){return zi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ag(t,e,n,r,s){return xr(this,void 0,void 0,function*(){return zi(t,"DELETE",e,r,s,n)})}var Me=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const O1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T1{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=og(s)}uploadOrUpdate(e,n,r,s){return Me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Nh),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(we(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Nh.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(we(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield on(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Hc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}update(e,n,r){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Me(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield on(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield on(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Me(this,void 0,void 0,function*(){try{const s=yield on(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}download(e,n){return Me(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield sa(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}})}info(e){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield sa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Du(r),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}exists(e){return Me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield P1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(we(r)&&r instanceof Mu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Me(this,void 0,void 0,function*(){try{return{data:yield ag(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}list(e,n,r){return Me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},O1),n),{prefix:e||""});return{data:yield on(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const R1="2.7.1",A1={"X-Client-Info":`storage-js/${R1}`};var br=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class I1{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},A1),n),this.fetch=og(r)}listBuckets(){return br(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(we(e))return{data:null,error:e};throw e}})}getBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return br(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return br(this,void 0,void 0,function*(){try{return{data:yield N1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}emptyBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}deleteBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield ag(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}}class L1 extends I1{constructor(e,n={},r){super(e,n,r)}from(e){return new T1(this.url,this.headers,e,this.fetch)}}const $1="2.49.1";let Qs="";typeof Deno<"u"?Qs="deno":typeof document<"u"?Qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qs="react-native":Qs="node";const M1={"X-Client-Info":`supabase-js-${Qs}/${$1}`},D1={headers:M1},z1={schema:"public"},F1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U1={};var B1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const W1=t=>{let e;return t?e=t:typeof fetch>"u"?e=qp:e=fetch,(...n)=>e(...n)},V1=()=>typeof Headers>"u"?Qp:Headers,q1=(t,e,n)=>{const r=W1(n),s=V1();return(i,o)=>B1(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Q1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function H1(t){return t.replace(/\/$/,"")}function K1(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Q1(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const lg="2.68.0",Cr=30*1e3,zu=3,vl=zu*Cr,G1="http://localhost:9999",J1="supabase.auth.token",Y1={"X-Client-Info":`gotrue-js/${lg}`},Fu="X-Supabase-Api-Version",ug={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function X1(t){return Math.round(Date.now()/1e3)+t}function Z1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const St=()=>typeof window<"u"&&typeof document<"u",Un={tested:!1,writable:!1},si=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Un.tested)return Un.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Un.tested=!0,Un.writable=!0}catch{Un.tested=!0,Un.writable=!1}return Un.writable};function e_(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const cg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>gs(async()=>{const{default:r}=await Promise.resolve().then(()=>Cs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},t_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dg=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},lo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},uo=async(t,e)=>{await t.removeItem(e)};function n_(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,d=0;for(t=t.replace("-","+").replace("_","/");d<t.length;)o=e.indexOf(t.charAt(d++)),a=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),u=e.indexOf(t.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Aa{constructor(){this.promise=new Aa.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Aa.promiseConstructor=Promise;function Ph(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(n_(r))}async function r_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function s_(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function i_(t){return("0"+t.toString(16)).substr(-2)}function o_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,i_).join("")}async function a_(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function l_(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function u_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await a_(t);return l_(n)}async function Sr(t,e,n=!1){const r=o_();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await dg(t,`${e}-code-verifier`,s);const i=await u_(r);return[i,r===i?"plain":"s256"]}const c_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function d_(t){const e=t.headers.get(Fu);if(!e||!e.match(c_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Kc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class h_ extends Kc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function f_(t){return B(t)&&t.name==="AuthApiError"}class hg extends Kc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _r extends Kc{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class tn extends _r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function m_(t){return B(t)&&t.name==="AuthSessionMissingError"}class wl extends _r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class co extends _r{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ho extends _r{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function p_(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Oh extends _r{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uu extends _r{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function xl(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Th extends _r{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var g_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Vn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y_=[502,503,504];async function Rh(t){var e;if(!t_(t))throw new Uu(Vn(t),0);if(y_.includes(t.status))throw new Uu(Vn(t),t.status);let n;try{n=await t.json()}catch(i){throw new hg(Vn(i),i)}let r;const s=d_(t);if(s&&s.getTime()>=ug["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Th(Vn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new tn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Th(Vn(n),t.status,n.weak_password.reasons);throw new h_(Vn(n),t.status||500,r)}const v_=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Q(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Fu]||(i[Fu]=ug["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await w_(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function w_(t,e,n,r,s,i){const o=v_(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Uu(Vn(l),0)}if(a.ok||await Rh(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Rh(l)}}function nn(t){var e;let n=null;b_(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=X1(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ah(t){const e=nn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function x_(t){return{data:t,error:null}}function __(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=g_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function k_(t){return t}function b_(t){return t.access_token&&t.refresh_token&&t.expires_in}var S_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class E_{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=cg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=S_(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:__,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:k_});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:cn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:cn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const j_={getItem:t=>si()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{si()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{si()&&globalThis.localStorage.removeItem(t)}};function Ih(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function C_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Er={debug:!!(globalThis&&si()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class N_ extends fg{}async function P_(t,e,n){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new N_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}C_();const O_={url:G1,storageKey:J1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lh(t,e,n){return await n()}class Ei{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ei.nextInstanceID,Ei.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},O_),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new E_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cg(s.fetch),this.lock=s.lock||Lh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:St()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=P_:this.lock=Lh,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:si()?this.storage=j_:(this.memoryStorage={},this.storage=Ih(this.memoryStorage)):(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=e_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),St()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),p_(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new hg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:nn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Sr(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:x},xform:nn})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:nn})}else throw new co("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ah})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ah})}else throw new co("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new wl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await lo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:nn});if(await uo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nn}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Sr(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new co("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Sr(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:x_})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new tn;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new co("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await lo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<vl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:cn})})}catch(n){if(B(n))return m_(n)&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new tn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Sr(this.storage,this.storageKey));const{data:u,error:d}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:cn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ph(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Ph(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new tn;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!St())throw new ho("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ho(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Oh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ho("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Oh("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new ho("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await lo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(f_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Z1(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Sr(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return St()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await s_(async s=>(s>0&&await r_(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xl(i)&&Date.now()+o-r<Cr})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),St()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await lo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<vl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${vl}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),xl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Aa;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new tn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return xl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await dg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await uo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cr}ms, refresh threshold is ${zu} ticks`),s<=zu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Ei.nextInstanceID=0;const T_=Ei;class R_ extends T_{constructor(e){super(e)}}var A_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class I_{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=H1(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:z1,realtime:U1,auth:Object.assign(Object.assign({},F1),{storageKey:l}),global:D1},d=K1(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=q1(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new o1(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new $x(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new L1(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return A_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R_({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new _1(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const L_=(t,e,n)=>new I_(t,e,n),$_="https://dwlsudbdevfivhcbvsjo.supabase.co",M_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3bHN1ZGJkZXZmaXZoY2J2c2pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI2NDk5NTIsImV4cCI6MjA1ODIyNTk1Mn0.WKZinBzAVQ_vafkirzo2IPN2QBclvXdMRT1qHPZcQGo",W=L_($_,M_,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1,storage:window.localStorage,flowType:"pkce"},global:{headers:{"x-client-info":"vigilant-dashboard"}},realtime:{params:{eventsPerSecond:10}}});W.auth.onAuthStateChange((t,e)=>{var n;console.log("Auth state changed:",t,(n=e==null?void 0:e.user)==null?void 0:n.email)});const mg=k.createContext({user:null,loading:!0});function D_({children:t}){const[e,n]=k.useState(null),[r,s]=k.useState(!0);return k.useEffect(()=>{(async()=>{var o;try{const{data:{session:a},error:l}=await W.auth.getSession();if(l)throw console.error("Session error:",l),l;if(a!=null&&a.user){const{data:d,error:h}=await W.from("users").select("*").eq("uid",a.user.id).single();if(h&&h.code==="PGRST116"){const{error:f}=await W.from("users").insert([{id:a.user.id,uid:a.user.id,email:a.user.email,name:a.user.user_metadata.name||((o=a.user.email)==null?void 0:o.split("@")[0])||"User",role:a.user.user_metadata.role||"client"}]);if(f)throw console.error("Error creating user profile:",f),f}else if(h)throw console.error("Error fetching user profile:",h),h}n((a==null?void 0:a.user)??null),s(!1);const{data:{subscription:u}}=W.auth.onAuthStateChange((d,h)=>{n((h==null?void 0:h.user)??null),s(!1)});return()=>{u.unsubscribe()}}catch(a){console.error("Auth initialization error:",a),D.error("Errore di autenticazione. Effettua nuovamente il login."),await W.auth.signOut(),n(null),s(!1)}})()},[]),c.jsx(mg.Provider,{value:{user:e,loading:r},children:t})}const pg=()=>k.useContext(mg);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ze=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>k.createElement("svg",{ref:d,...z_,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${F_(t)}`,a].join(" "),...u},[...e.map(([h,f])=>k.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Ze("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Ze("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Ze("Heater",[["path",{d:"M11 8c2-3-2-3 0-6",key:"1ldv5m"}],["path",{d:"M15.5 8c2-3-2-3 0-6",key:"1otqoz"}],["path",{d:"M6 10h.01",key:"1lbq93"}],["path",{d:"M6 14h.01",key:"zudwn7"}],["path",{d:"M10 16v-4",key:"1c25yv"}],["path",{d:"M14 16v-4",key:"1dkbt8"}],["path",{d:"M18 16v-4",key:"1yg9me"}],["path",{d:"M20 6a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3",key:"1ubg90"}],["path",{d:"M5 20v2",key:"1abpe8"}],["path",{d:"M19 20v2",key:"kqn6ft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Ze("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Ze("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function V_(){const t=Ss(),[e,n]=k.useState(!1),[r,s]=k.useState({email:"",password:""}),i=a=>{const{name:l,value:u}=a.target;s(d=>({...d,[l]:l==="email"?u.toLowerCase().trim():u}))},o=async a=>{var l;a.preventDefault(),n(!0);try{const{data:u,error:d}=await W.auth.signInWithPassword({email:r.email,password:r.password});if(d){console.error("Sign in error:",d),d.message.includes("Invalid login credentials")?D.error("Email o password non validi"):D.error("Errore durante il login");return}if(!u.user){D.error("Utente non trovato");return}const{data:h,error:f}=await W.from("users").select("*, company:companies(*)").eq("uid",u.user.id).single();if(f)if(console.error("Profile fetch error:",f),f.code==="PGRST116"){const{error:g}=await W.from("users").insert([{id:u.user.id,uid:u.user.id,email:u.user.email,name:u.user.user_metadata.name||((l=u.user.email)==null?void 0:l.split("@")[0])||"User",role:u.user.user_metadata.role||"client"}]);if(g){console.error("Error creating user profile:",g),D.error("Errore durante la creazione del profilo utente");return}}else{D.error("Errore durante il recupero del profilo utente");return}D.success("Login effettuato con successo"),t("/",{replace:!0})}catch(u){console.error("Login error:",u),D.error("Errore durante il login")}finally{n(!1)}};return c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 p-4",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"rounded-lg bg-white p-8 shadow-lg",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx(vg,{className:"mx-auto h-12 w-12 text-blue-600"}),c.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Vigilant Dashboard"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sicurezza sul lavoro con Wear OS"})]}),c.jsxs("form",{onSubmit:o,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r.email,onChange:i,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,minLength:6,value:r.password,onChange:i,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),c.jsx("button",{type:"submit",disabled:e,className:"w-full rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:e?"Accesso in corso...":"Accedi"})]}),c.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Non hai un account?"," ",c.jsx(zc,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Registrati"})]})]})})})}function q_(){const t=Ss(),[e,n]=k.useState(!1),[r,s]=k.useState({name:"",email:"",password:"",confirmPassword:""}),i=a=>{s({...r,[a.target.name]:a.target.value})},o=async a=>{if(a.preventDefault(),r.password!==r.confirmPassword){D.error("Le password non coincidono");return}if(r.password.length<6){D.error("La password deve essere di almeno 6 caratteri");return}n(!0);try{const{data:l,error:u}=await W.auth.signUp({email:r.email,password:r.password,options:{data:{name:r.name,role:"client"}}});if(u){u.message.includes("already registered")?D.error("Email gi registrata"):D.error("Errore durante la registrazione");return}if(!l.user){D.error("Errore durante la registrazione");return}D.success("Registrazione completata con successo"),t("/login")}catch(l){console.error("Registration error:",l)}finally{n(!1)}};return c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 p-4",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"rounded-lg bg-white p-8 shadow-lg",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx(vg,{className:"mx-auto h-12 w-12 text-blue-600"}),c.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Registrazione"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Crea il tuo account Vigilant"})]}),c.jsxs("form",{onSubmit:o,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),c.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:r.name,onChange:i,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),c.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:i,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",required:!0,minLength:6,value:r.password,onChange:i,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimo 6 caratteri"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Conferma Password"}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,minLength:6,value:r.confirmPassword,onChange:i,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),c.jsx("button",{type:"submit",disabled:e,className:"w-full rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:e?"Registrazione in corso...":"Registrati"})]}),c.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Hai gi un account?"," ",c.jsx(zc,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Accedi"})]})]})})})}const Q_=[{name:"Dashboard",href:"/",icon:B_},{name:"Utenti",href:"/users",icon:wg},{name:"Aziende",href:"/companies",icon:gg,adminOnly:!0},{name:"Aree Pericolose",href:"/hazardous-areas",icon:ji},{name:"Virtual Gates",href:"/virtual-gates",icon:yg},{name:"Log Emergenze",href:"/emergency-logs",icon:U_}];function H_(){pg();const t=Ss(),e=async()=>{try{const{error:n}=await W.auth.signOut();if(n)throw n;localStorage.removeItem("supabase.auth.token"),D.success("Logout effettuato con successo"),t("/login",{replace:!0})}catch(n){console.error("Logout error:",n),D.error("Errore durante il logout")}};return c.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[c.jsx("div",{className:"flex h-16 items-center justify-center border-b",children:c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Vigilant Dashboard"})}),c.jsx("nav",{className:"flex flex-1 flex-col",children:c.jsx("ul",{className:"space-y-1 p-4",children:Q_.map(n=>c.jsx("li",{children:c.jsxs(sw,{to:n.href,className:({isActive:r})=>`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors
                  ${r?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[c.jsx(n.icon,{className:"h-5 w-5"}),n.name]})},n.name))})}),c.jsx("div",{className:"border-t p-4",children:c.jsxs("button",{onClick:e,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-900",children:[c.jsx(W_,{className:"h-5 w-5"}),"Logout"]})})]})}function K_(){return c.jsxs("div",{className:"flex h-screen bg-gray-100",children:[c.jsx(H_,{}),c.jsx("main",{className:"flex-1 overflow-auto p-8",children:c.jsx(Qv,{})})]})}function G_(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,[])).next())})}function J_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y_=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},X_=J_(Y_);const $h="__googleMapsScriptId";var Fr;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Fr||(Fr={}));class Hn{constructor({apiKey:e,authReferrerPolicy:n,channel:r,client:s,id:i=$h,language:o,libraries:a=[],mapIds:l,nonce:u,region:d,retries:h=3,url:f="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=n,this.channel=r,this.client=s,this.id=i||$h,this.language=o,this.libraries=a,this.mapIds=l,this.nonce=u,this.region=d,this.retries=h,this.url=f,this.version=g,Hn.instance){if(!X_(this.options,Hn.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Hn.instance.options)}`);return Hn.instance}Hn.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Fr.FAILURE:this.done?Fr.SUCCESS:this.loading?Fr.LOADING:Fr.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{let o,a,l,u="The Google Maps JavaScript API",d="google",h="importLibrary",f="__ib__",g=document,x=window;x=x[d]||(x[d]={});const w=x.maps||(x.maps={}),_=new Set,p=new URLSearchParams,m=()=>o||(o=new Promise((y,b)=>G_(this,void 0,void 0,function*(){var j;yield a=g.createElement("script"),a.id=this.id,p.set("libraries",[..._]+"");for(l in i)p.set(l.replace(/[A-Z]/g,S=>"_"+S[0].toLowerCase()),i[l]);p.set("callback",d+".maps."+f),a.src=this.url+"?"+p,w[f]=y,a.onerror=()=>o=b(Error(u+" could not load.")),a.nonce=this.nonce||((j=g.querySelector("script[nonce]"))===null||j===void 0?void 0:j.nonce)||"",g.head.append(a)})));w[h]?console.warn(u+" only loads once. Ignoring:",i):w[h]=(y,...b)=>_.add(y)&&m().then(()=>w[h](y,...b))})(r);const s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{const o=new ErrorEvent("error",{error:i});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const Z_=new Hn({apiKey:"AIzaSyDXsM5drOWqC5fyXXUqQrGVVqkkey7hBv0",version:"weekly",libraries:["places","drawing"]}),Ma=()=>Z_.load(),ek={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDXsM5drOWqC5fyXXUqQrGVVqkkey7hBv0",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3bHN1ZGJkZXZmaXZoY2J2c2pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI2NDk5NTIsImV4cCI6MjA1ODIyNTk1Mn0.WKZinBzAVQ_vafkirzo2IPN2QBclvXdMRT1qHPZcQGo",VITE_SUPABASE_URL:"https://dwlsudbdevfivhcbvsjo.supabase.co"},Mh=t=>{let e;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const g=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(x=>x(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(ek?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,l);return l},tk=t=>t?Mh(t):Mh;var xg={exports:{}},_g={},kg={exports:{}},bg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=k;function nk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rk=typeof Object.is=="function"?Object.is:nk,sk=vs.useState,ik=vs.useEffect,ok=vs.useLayoutEffect,ak=vs.useDebugValue;function lk(t,e){var n=e(),r=sk({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return ok(function(){s.value=n,s.getSnapshot=e,_l(s)&&i({inst:s})},[t,n,e]),ik(function(){return _l(s)&&i({inst:s}),t(function(){_l(s)&&i({inst:s})})},[t]),ak(n),n}function _l(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rk(t,n)}catch{return!0}}function uk(t,e){return e()}var ck=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uk:lk;bg.useSyncExternalStore=vs.useSyncExternalStore!==void 0?vs.useSyncExternalStore:ck;kg.exports=bg;var dk=kg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=k,hk=dk;function fk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mk=typeof Object.is=="function"?Object.is:fk,pk=hk.useSyncExternalStore,gk=Da.useRef,yk=Da.useEffect,vk=Da.useMemo,wk=Da.useDebugValue;_g.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=gk(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=vk(function(){function l(g){if(!u){if(u=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var x=o.value;if(s(x,g))return h=x}return h=g}if(x=h,mk(d,g))return x;var w=r(g);return s!==void 0&&s(x,w)?(d=g,x):(d=g,h=w)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var a=pk(t,i[0],i[1]);return yk(function(){o.hasValue=!0,o.value=a},[a]),wk(a),a};xg.exports=_g;var xk=xg.exports;const _k=nf(xk),Sg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDXsM5drOWqC5fyXXUqQrGVVqkkey7hBv0",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3bHN1ZGJkZXZmaXZoY2J2c2pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI2NDk5NTIsImV4cCI6MjA1ODIyNTk1Mn0.WKZinBzAVQ_vafkirzo2IPN2QBclvXdMRT1qHPZcQGo",VITE_SUPABASE_URL:"https://dwlsudbdevfivhcbvsjo.supabase.co"},{useDebugValue:kk}=mf,{useSyncExternalStoreWithSelector:bk}=_k;let Dh=!1;const Sk=t=>t;function Ek(t,e=Sk,n){(Sg?"production":void 0)!=="production"&&n&&!Dh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Dh=!0);const r=bk(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return kk(r),r}const zh=t=>{(Sg?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?tk(t):t,n=(r,s)=>Ek(e,r,s);return Object.assign(n,e),n},jk=t=>t?zh(t):zh,Ck=jk((t,e)=>({loading:!1,currentUser:null,currentEmergency:null,showEmergencyModal:!1,fetchCurrentUser:async()=>{try{const{data:{user:n}}=await W.auth.getUser();if(!n){t({currentUser:null});return}const{data:r,error:s}=await W.from("users").select("id, name, email, company_id").eq("uid",n.id).single();if(s)throw s;t({currentUser:r})}catch(n){console.error("Error fetching current user:",n),D.error("Error fetching user data")}},simulateEmergency:async(n,r)=>{const{currentUser:s}=e();if(!s){D.error("User data not available");return}t({loading:!0});try{const{data:i,error:o}=await W.from("alerts").insert([{user_id:s.id,user_name:s.name,email:s.email,company_id:s.company_id,current_location:`${r} ${n}`,address:"Test Location, Milan",received:!1,timestamp:new Date().toISOString()}]).select().single();if(o)throw o;const a={id:i.id,userName:s.name,timestamp:new Date().toISOString(),type:"Test Emergency",latitude:n,longitude:r};t({currentEmergency:a,showEmergencyModal:!0})}catch(i){console.error("Error simulating emergency:",i),D.error("Errore durante la simulazione dell'emergenza")}finally{t({loading:!1})}},setCurrentEmergency:n=>{t({currentEmergency:n})},setShowEmergencyModal:n=>{t({showEmergencyModal:n})},markEmergencyAsReceived:async n=>{try{const{error:r}=await W.from("alerts").update({received:!0}).eq("id",n);if(r)throw r}catch(r){console.error("Error marking emergency as received:",r),D.error("Errore durante l'aggiornamento dell'emergenza")}}}));function kt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function pr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Eg=6048e5,Nk=864e5;let Pk={};function za(){return Pk}function Ci(t,e){var a,l,u,d;const n=za(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=kt(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function oa(t){return Ci(t,{weekStartsOn:1})}function jg(t){const e=kt(t),n=e.getFullYear(),r=pr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=oa(r),i=pr(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=oa(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Fh(t){const e=kt(t);return e.setHours(0,0,0,0),e}function Uh(t){const e=kt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ok(t,e){const n=Fh(t),r=Fh(e),s=+n-Uh(n),i=+r-Uh(r);return Math.round((s-i)/Nk)}function Tk(t){const e=jg(t),n=pr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),oa(n)}function Rk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ak(t){if(!Rk(t)&&typeof t!="number")return!1;const e=kt(t);return!isNaN(Number(e))}function Ik(t){const e=kt(t),n=pr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Lk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$k=(t,e,n)=>{let r;const s=Lk[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Mk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fk={date:kl({formats:Mk,defaultWidth:"full"}),time:kl({formats:Dk,defaultWidth:"full"}),dateTime:kl({formats:zk,defaultWidth:"full"})},Uk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bk=(t,e,n,r)=>Uk[t];function zs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Wk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gk=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Jk={ordinalNumber:Gk,era:zs({values:Wk,defaultWidth:"wide"}),quarter:zs({values:Vk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zs({values:qk,defaultWidth:"wide"}),day:zs({values:Qk,defaultWidth:"wide"}),dayPeriod:zs({values:Hk,defaultWidth:"wide",formattingValues:Kk,defaultFormattingWidth:"wide"})};function Fs(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Xk(a,h=>h.test(o)):Yk(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Yk(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Xk(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Zk(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const eb=/^(\d+)(th|st|nd|rd)?/i,tb=/\d+/i,nb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rb={any:[/^b/i,/^(a|c)/i]},sb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ib={any:[/1/i,/2/i,/3/i,/4/i]},ob={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ab={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ub={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},db={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hb={ordinalNumber:Zk({matchPattern:eb,parsePattern:tb,valueCallback:t=>parseInt(t,10)}),era:Fs({matchPatterns:nb,defaultMatchWidth:"wide",parsePatterns:rb,defaultParseWidth:"any"}),quarter:Fs({matchPatterns:sb,defaultMatchWidth:"wide",parsePatterns:ib,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fs({matchPatterns:ob,defaultMatchWidth:"wide",parsePatterns:ab,defaultParseWidth:"any"}),day:Fs({matchPatterns:lb,defaultMatchWidth:"wide",parsePatterns:ub,defaultParseWidth:"any"}),dayPeriod:Fs({matchPatterns:cb,defaultMatchWidth:"any",parsePatterns:db,defaultParseWidth:"any"})},fb={code:"en-US",formatDistance:$k,formatLong:Fk,formatRelative:Bk,localize:Jk,match:hb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mb(t){const e=kt(t);return Ok(e,Ik(e))+1}function pb(t){const e=kt(t),n=+oa(e)-+Tk(e);return Math.round(n/Eg)+1}function Cg(t,e){var d,h,f,g;const n=kt(t),r=n.getFullYear(),s=za(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=pr(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Ci(o,e),l=pr(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Ci(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function gb(t,e){var a,l,u,d;const n=za(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Cg(t,e),i=pr(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ci(i,e)}function yb(t,e){const n=kt(t),r=+Ci(n,e)-+gb(n,e);return Math.round(r/Eg)+1}function Y(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Zt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Y(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Y(n+1,2)},d(t,e){return Y(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Y(t.getHours()%12||12,e.length)},H(t,e){return Y(t.getHours(),e.length)},m(t,e){return Y(t.getMinutes(),e.length)},s(t,e){return Y(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Y(s,e.length)}},jr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bh={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Zt.y(t,e)},Y:function(t,e,n,r){const s=Cg(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Y(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Y(i,e.length)},R:function(t,e){const n=jg(t);return Y(n,e.length)},u:function(t,e){const n=t.getFullYear();return Y(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Y(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Y(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Zt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Y(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=yb(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Y(s,e.length)},I:function(t,e,n){const r=pb(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Y(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Zt.d(t,e)},D:function(t,e,n){const r=mb(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Y(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Y(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Y(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Y(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=jr.noon:r===0?s=jr.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=jr.evening:r>=12?s=jr.afternoon:r>=4?s=jr.morning:s=jr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Zt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Y(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Y(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Zt.s(t,e)},S:function(t,e){return Zt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Vh(r);case"XXXX":case"XX":return qn(r);case"XXXXX":case"XXX":default:return qn(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Vh(r);case"xxxx":case"xx":return qn(r);case"xxxxx":case"xxx":default:return qn(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Wh(r,":");case"OOOO":default:return"GMT"+qn(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Wh(r,":");case"zzzz":default:return"GMT"+qn(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Y(r,e.length)},T:function(t,e,n){const r=t.getTime();return Y(r,e.length)}};function Wh(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Y(i,2)}function Vh(t,e){return t%60===0?(t>0?"-":"+")+Y(Math.abs(t)/60,2):qn(t,e)}function qn(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Y(Math.trunc(r/60),2),i=Y(r%60,2);return n+s+e+i}const qh=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ng=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vb=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return qh(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",qh(r,e)).replace("{{time}}",Ng(s,e))},wb={p:Ng,P:vb},xb=/^D+$/,_b=/^Y+$/,kb=["D","DD","YY","YYYY"];function bb(t){return xb.test(t)}function Sb(t){return _b.test(t)}function Eb(t,e,n){const r=jb(t,e,n);if(console.warn(r),kb.includes(t))throw new RangeError(r)}function jb(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pb=/^'([^]*?)'?$/,Ob=/''/g,Tb=/[a-zA-Z]/;function Bu(t,e,n){var d,h,f,g;const r=za(),s=r.locale??fb,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,a=kt(t);if(!Ak(a))throw new RangeError("Invalid time value");let l=e.match(Nb).map(x=>{const w=x[0];if(w==="p"||w==="P"){const _=wb[w];return _(x,s.formatLong)}return x}).join("").match(Cb).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:Rb(x)};if(Bh[w])return{isToken:!0,value:x};if(w.match(Tb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(x=>{if(!x.isToken)return x.value;const w=x.value;(Sb(w)||bb(w))&&Eb(w,e,String(t));const _=Bh[w[0]];return _(a,w,s.localize,u)}).join("")}function Rb(t){const e=t.match(Pb);return e?e[1].replace(Ob,"'"):t}class Ab{constructor(){this.audioContext=null,this.oscillator=null,this.gainNode=null,this.isPlaying=!1;const e=()=>{this.audioContext||(this.audioContext=new AudioContext,document.removeEventListener("click",e))};document.addEventListener("click",e)}start(){if(!this.isPlaying)try{this.audioContext||(this.audioContext=new AudioContext),this.stop(),this.oscillator=this.audioContext.createOscillator(),this.gainNode=this.audioContext.createGain(),this.oscillator.type="square",this.oscillator.frequency.setValueAtTime(880,this.audioContext.currentTime),this.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime),this.oscillator.connect(this.gainNode),this.gainNode.connect(this.audioContext.destination),this.oscillator.start(),this.isPlaying=!0,this.createBeepingPattern()}catch(e){console.error("Error starting emergency sound:",e)}}createBeepingPattern(){if(!this.audioContext||!this.gainNode)return;const e=.2,n=.4,r=this.audioContext.currentTime;for(let s=0;s<120;s++){const i=r+s*n,o=i+e;this.gainNode.gain.setValueAtTime(0,i),this.gainNode.gain.linearRampToValueAtTime(.5,i+.01),this.gainNode.gain.setValueAtTime(.5,o-.01),this.gainNode.gain.linearRampToValueAtTime(0,o),this.oscillator&&(this.oscillator.frequency.setValueAtTime(880,i),this.oscillator.frequency.setValueAtTime(988,i+e/2))}}stop(){if(this.isPlaying)try{this.oscillator&&(this.oscillator.stop(),this.oscillator.disconnect(),this.oscillator=null),this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null),this.isPlaying=!1}catch(e){console.error("Error stopping emergency sound:",e)}}}function Ib({isOpen:t,onClose:e,emergency:n}){const r=k.useRef(null);k.useEffect(()=>{r.current||(r.current=new Ab);const o=r.current;return t?(o.start(),()=>{o.stop()}):()=>{o&&o.stop()}},[t]);const s=()=>{r.current&&r.current.stop(),e(n.latitude,n.longitude)},i=o=>o.toFixed(6);return c.jsx("div",{className:`fixed inset-0 z-50 overflow-y-auto ${t?"":"hidden"}`,children:c.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75"})}),c.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6 sm:align-middle",children:[c.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:c.jsx("button",{type:"button",onClick:s,className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(Ps,{className:"h-6 w-6"})})}),c.jsxs("div",{className:"sm:flex sm:items-start",children:[c.jsx("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:c.jsx(ji,{className:"h-6 w-6 text-red-600"})}),c.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[c.jsx("h3",{className:"text-2xl font-bold text-red-600",children:"EMERGENZA IN CORSO"}),c.jsxs("div",{className:"mt-4 space-y-2",children:[c.jsxs("p",{className:"text-lg font-medium text-gray-900",children:["Utente: ",n.userName]}),c.jsxs("p",{className:"text-lg text-gray-700",children:["Data e ora: ",Bu(new Date(n.timestamp),"dd/MM/yyyy HH:mm:ss")]}),n.type&&c.jsxs("p",{className:"text-lg text-gray-700",children:["Tipo: ",n.type]}),c.jsxs("div",{className:"flex items-center gap-2 text-lg text-gray-700",children:[c.jsx(ia,{className:"h-5 w-5 text-red-500"}),c.jsxs("span",{children:["Coordinate: ",i(n.latitude),", ",i(n.longitude)]})]})]})]})]}),c.jsx("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:c.jsx("button",{type:"button",onClick:s,className:"inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",children:"Visualizza sulla mappa"})})]})]})})}function Lb(){const e=vr().state,n=k.useRef(null),[r]=k.useState({activeUsers:42,companies:8,activeAlerts:3}),[s,i]=k.useState(null),[o,a]=k.useState(null),[l,u]=k.useState([]),[d,h]=k.useState([]),[f,g]=k.useState([]),[x,w]=k.useState([]),{loading:_,currentUser:p,currentEmergency:m,showEmergencyModal:y,fetchCurrentUser:b,simulateEmergency:j,setShowEmergencyModal:S,markEmergencyAsReceived:N}=Ck();k.useEffect(()=>{b(),I(),O(),C()},[b]),k.useEffect(()=>{s&&E()},[s,l,d]),k.useEffect(()=>{if(e!=null&&e.emergency&&s){const{latitude:$,longitude:G}=e.emergency;o&&o.setMap(null);const M=new google.maps.Marker({position:{lat:$,lng:G},map:s,icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#ff0000",fillOpacity:1,strokeWeight:2,strokeColor:"#ffffff"},animation:google.maps.Animation.BOUNCE}),Z=new google.maps.InfoWindow({content:`<div class="p-2">
          <p class="font-bold">Emergenza</p>
          <p>Utente: ${e.emergency.userName}</p>
          <p>Data: ${new Date(e.emergency.timestamp).toLocaleString()}</p>
          <p>Coordinate: ${$.toFixed(6)}, ${G.toFixed(6)}</p>
        </div>`});M.addListener("click",()=>{Z.open(s,M)}),a(M),s.setCenter({lat:$,lng:G}),s.setZoom(18),setTimeout(()=>{M.setAnimation(null)},2e3)}},[e==null?void 0:e.emergency,s]);const O=async()=>{try{const{data:$,error:G}=await W.from("hazardous_areas").select("id, name, geo_point, radius, company:companies(name)");if(G)throw G;u($)}catch($){console.error("Error fetching hazardous areas:",$),D.error("Errore durante il caricamento delle aree pericolose")}},C=async()=>{try{const{data:$,error:G}=await W.from("virtual_gates").select("id, name, geo_polygon, company:companies(name)");if(G)throw G;h($)}catch($){console.error("Error fetching virtual gates:",$),D.error("Errore durante il caricamento dei virtual gates")}},E=()=>{if(!s)return;f.forEach(M=>M.setMap(null)),x.forEach(M=>M.setMap(null));const $=l.map(M=>{const[Z,ie]=M.geo_point.coordinates,T=new google.maps.Circle({map:s,center:{lat:ie,lng:Z},radius:M.radius,fillColor:"#ff0000",fillOpacity:.2,strokeColor:"#ff0000",strokeOpacity:.8,strokeWeight:2});return T.addListener("click",()=>{new google.maps.InfoWindow({content:`
            <div class="p-2">
              <p class="font-bold">${M.name}</p>
              <p class="text-sm">Azienda: ${M.company.name}</p>
              <p class="text-sm">Raggio: ${M.radius}m</p>
            </div>
          `,position:{lat:ie,lng:Z}}).open(s)}),T}),G=d.map(M=>{const ie=M.geo_polygon.coordinates[0].map(([z,F])=>({lat:F,lng:z})),T=new google.maps.Polygon({paths:ie,map:s,fillColor:"#4F46E5",fillOpacity:.3,strokeColor:"#4F46E5",strokeWeight:2});return T.addListener("click",z=>{if(!z.latLng)return;new google.maps.InfoWindow({content:`
            <div class="p-2">
              <p class="font-bold">${M.name}</p>
              <p class="text-sm">Azienda: ${M.company.name}</p>
            </div>
          `,position:z.latLng}).open(s)}),T});if(g($),w(G),!(e!=null&&e.emergency)&&($.length>0||G.length>0)){const M=new google.maps.LatLngBounds;l.forEach(Z=>{const[ie,T]=Z.geo_point.coordinates;M.extend({lat:T,lng:ie})}),d.forEach(Z=>{Z.geo_polygon.coordinates[0].forEach(([ie,T])=>{M.extend({lat:T,lng:ie})})}),s.fitBounds(M)}},I=async()=>{try{const $=await Ma(),G=document.getElementById("map");if(!G)return;const M=new $.maps.Map(G,{center:{lat:45.4642,lng:9.19},zoom:13,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});i(M),n.current=M}catch($){console.error("Error loading Google Maps:",$),D.error("Errore durante il caricamento della mappa")}},K=($,G)=>{if(!(!m||!s||!o)){if($!==void 0&&G!==void 0){const M={lat:$,lng:G};s.setCenter(M),s.setZoom(18),o.setPosition(M),o.setAnimation(google.maps.Animation.BOUNCE),setTimeout(()=>o.setAnimation(null),2e3)}m&&N(m.id),S(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),!1]}),c.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[c.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(wg,{className:"h-8 w-8 text-blue-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utenti Attivi"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.activeUsers})]})]})}),c.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(gg,{className:"h-8 w-8 text-green-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aziende"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.companies})]})]})}),c.jsx("div",{className:"rounded-lg bg-white p-6 shadow-md",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(ji,{className:"h-8 w-8 text-red-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Allarmi Attivi"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.activeAlerts})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[c.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[c.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[c.jsx(ji,{className:"h-6 w-6 text-red-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aree Pericolose"})]}),c.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:c.jsx("div",{className:"max-h-64 overflow-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nome"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azienda"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Raggio (m)"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[l.map($=>c.jsxs("tr",{children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:$.company.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:$.radius})})]},$.id)),l.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Nessuna area pericolosa trovata"})})]})]})})})]}),c.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[c.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[c.jsx(yg,{className:"h-6 w-6 text-blue-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Virtual Gates"})]}),c.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:c.jsx("div",{className:"max-h-64 overflow-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nome"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azienda"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[d.map($=>c.jsxs("tr",{children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:$.company.name})})]},$.id)),d.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:2,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Nessun virtual gate trovato"})})]})]})})})]})]}),c.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Mappa Emergenze"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Aree Pericolose"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-600"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Virtual Gates"})]})]})]}),c.jsx("div",{className:"h-96 w-full rounded-lg border border-gray-200",children:c.jsx("div",{id:"map",className:"h-full w-full rounded-lg"})})]}),m&&c.jsx(Ib,{isOpen:y,onClose:K,emergency:m})]})}function $b({isOpen:t,onClose:e,user:n}){const[r,s]=k.useState(null),[i,o]=k.useState(null);k.useEffect(()=>{t&&n.location_sharing&&a()},[t,n]);const a=async()=>{try{const l=await Ma(),u=document.getElementById("user-location-map");if(!u)return;const d={lat:45.4642,lng:9.19},h=new l.maps.Map(u,{center:d,zoom:13,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),f=new l.maps.Marker({position:d,map:h,title:n.name,icon:{path:l.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#4F46E5",fillOpacity:1,strokeWeight:2,strokeColor:"#ffffff"}});n.address&&new l.maps.Geocoder().geocode({address:n.address},(x,w)=>{var _,p;if(w==="OK"&&((p=(_=x==null?void 0:x[0])==null?void 0:_.geometry)!=null&&p.location)){const m=x[0].geometry.location;h.setCenter(m),f.setPosition(m);const y=new l.maps.InfoWindow({content:`
                <div class="p-2">
                  <p class="font-bold">${n.name}</p>
                  <p class="text-sm">${n.address}</p>
                </div>
              `});f.addListener("click",()=>{y.open(h,f)})}}),s(h),o(f)}catch(l){console.error("Error loading Google Maps:",l)}};return t?c.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6 sm:align-middle",children:[c.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:c.jsx("button",{type:"button",onClick:e,className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(Ps,{className:"h-6 w-6"})})}),c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[c.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Posizione di ",n.name]}),n.location_sharing?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mt-2",children:c.jsxs("p",{className:"text-sm text-gray-500",children:["Indirizzo: ",n.address||"Non disponibile"]})}),c.jsx("div",{className:"mt-4 h-96 w-full rounded-lg border border-gray-300",children:c.jsx("div",{id:"user-location-map",className:"h-full w-full rounded-lg"})})]}):c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Questo utente non ha attivato la condivisione della posizione."})})]})})]})]})}):null}function Mb(){const t=js(),[e,n]=k.useState(!1),[r,s]=k.useState(!1),[i,o]=k.useState(null),[a,l]=k.useState(null),[u,d]=k.useState({name:"",email:"",role:"client",company_id:null,location_sharing:!1,address:""}),{data:h,isLoading:f}=In({queryKey:["users"],queryFn:async()=>{const{data:S,error:N}=await W.from("users").select("*, company:companies(name)").order("created_at",{ascending:!1});if(N)throw console.error("Error fetching users:",N),N;return console.log("Users data:",S),S}}),{data:g,isLoading:x}=In({queryKey:["companies"],queryFn:async()=>{const{data:S,error:N}=await W.from("companies").select("id, name").order("name");if(N)throw console.error("Error fetching companies:",N),N;return S}}),w=xt({mutationFn:async({id:S,data:N})=>{const{error:O}=await W.from("users").update(N).eq("id",S);if(O)throw O},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),D.success("Utente aggiornato con successo"),m()},onError:S=>{console.error("Error updating user:",S),D.error("Errore durante l'aggiornamento dell'utente")}}),_=xt({mutationFn:async S=>{const{error:N}=await W.from("users").delete().eq("id",S);if(N)throw N},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),D.success("Utente eliminato con successo")},onError:S=>{console.error("Error deleting user:",S),D.error("Errore durante l'eliminazione dell'utente")}}),p=S=>{S?(l(S),d({name:S.name,email:S.email,role:S.role==="superadmin"?"admin":S.role,company_id:S.company_id,location_sharing:S.location_sharing,address:S.address||""})):(l(null),d({name:"",email:"",role:"client",company_id:null,location_sharing:!1,address:""})),n(!0)},m=()=>{n(!1),l(null),d({name:"",email:"",role:"client",company_id:null,location_sharing:!1,address:""})},y=async S=>{if(S.preventDefault(),a)w.mutate({id:a.id,data:{name:u.name,role:u.role,company_id:u.company_id,location_sharing:u.location_sharing,address:u.address}});else{const{error:N}=await W.from("users").insert({name:u.name,email:u.email,role:u.role,company_id:u.company_id,location_sharing:u.location_sharing,address:u.address});N?(console.error("Error creating user:",N),D.error("Errore durante la creazione dell'utente")):(D.success("Utente creato con successo"),t.invalidateQueries({queryKey:["users"]}),m())}},b=async S=>{window.confirm("Sei sicuro di voler eliminare questo utente?")&&_.mutate(S)},j=S=>{o(S),s(!0)};return f||x?c.jsx("div",{className:"flex items-center justify-center",children:"Caricamento..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Utenti"}),c.jsxs("button",{onClick:()=>p(),className:"flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[c.jsx(La,{className:"h-4 w-4"}),"Nuovo Utente"]})]}),c.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nome"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ruolo"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azienda"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Condivisione Posizione"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azioni"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[h==null?void 0:h.map(S=>{var N;return c.jsxs("tr",{children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:S.email})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${S.role==="superadmin"?"bg-purple-100 text-purple-800":S.role==="admin"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:S.role})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:((N=S.company)==null?void 0:N.name)||"-"})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:S.location_sharing?"Attiva":"Disattiva"})}),c.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[S.location_sharing&&c.jsx("button",{onClick:()=>j(S),className:"mr-2 text-indigo-600 hover:text-indigo-900",title:"Visualizza posizione",children:c.jsx(ia,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>p(S),className:"mr-2 text-blue-600 hover:text-blue-900",title:"Modifica",children:c.jsx(Ia,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>b(S.id),className:"text-red-600 hover:text-red-900",title:"Elimina",children:c.jsx($a,{className:"h-4 w-4"})})]})]},S.id)}),!(h!=null&&h.length)&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Nessun utente trovato"})})]})]})}),e&&c.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6 sm:align-middle",children:[c.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:c.jsx("button",{type:"button",onClick:m,className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(Ps,{className:"h-6 w-6"})})}),c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[c.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:a?"Modifica Utente":"Nuovo Utente"}),c.jsxs("form",{onSubmit:y,className:"mt-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),c.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:u.name,onChange:S=>d({...u,name:S.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),!a&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),c.jsx("input",{type:"email",name:"email",id:"email",required:!0,value:u.email,onChange:S=>d({...u,email:S.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Ruolo"}),c.jsxs("select",{id:"role",name:"role",value:u.role,onChange:S=>d({...u,role:S.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[c.jsx("option",{value:"client",children:"Client"}),c.jsx("option",{value:"admin",children:"Admin"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Azienda"}),c.jsxs("select",{id:"company",name:"company",value:u.company_id||"",onChange:S=>d({...u,company_id:S.target.value||null}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[c.jsx("option",{value:"",children:"Seleziona un'azienda"}),g==null?void 0:g.map(S=>c.jsx("option",{value:S.id,children:S.name},S.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Indirizzo"}),c.jsx("input",{type:"text",name:"address",id:"address",value:u.address,onChange:S=>d({...u,address:S.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"location_sharing",id:"location_sharing",checked:u.location_sharing,onChange:S=>d({...u,location_sharing:S.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("label",{htmlFor:"location_sharing",className:"ml-2 block text-sm text-gray-900",children:"Abilita condivisione posizione"})]}),c.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[c.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",children:a?"Aggiorna":"Crea"}),c.jsx("button",{type:"button",onClick:m,className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",children:"Annulla"})]})]})]})})]})]})}),i&&c.jsx($b,{isOpen:r,onClose:()=>{s(!1),o(null)},user:i})]})}function Db(){const t=js(),[e,n]=k.useState(!1),[r,s]=k.useState(null),[i,o]=k.useState({name:"",phone:"",description:""}),{data:a,isLoading:l}=In({queryKey:["companies"],queryFn:async()=>{const{data:_,error:p}=await W.from("companies").select("*").order("created_at",{ascending:!1});if(p)throw p;return _}}),u=xt({mutationFn:async _=>{const{error:p}=await W.from("companies").insert([_]);if(p)throw p},onSuccess:()=>{t.invalidateQueries({queryKey:["companies"]}),D.success("Azienda creata con successo"),g()},onError:()=>{D.error("Errore durante la creazione dell'azienda")}}),d=xt({mutationFn:async({id:_,data:p})=>{const{error:m}=await W.from("companies").update(p).eq("id",_);if(m)throw m},onSuccess:()=>{t.invalidateQueries({queryKey:["companies"]}),D.success("Azienda aggiornata con successo"),g()},onError:()=>{D.error("Errore durante l'aggiornamento dell'azienda")}}),h=xt({mutationFn:async _=>{const{error:p}=await W.from("companies").delete().eq("id",_);if(p)throw p},onSuccess:()=>{t.invalidateQueries({queryKey:["companies"]}),D.success("Azienda eliminata con successo")},onError:()=>{D.error("Errore durante l'eliminazione dell'azienda")}}),f=_=>{_?(s(_),o({name:_.name,phone:_.phone||"",description:_.description||""})):(s(null),o({name:"",phone:"",description:""})),n(!0)},g=()=>{n(!1),s(null),o({name:"",phone:"",description:""})},x=async _=>{_.preventDefault(),r?d.mutate({id:r.id,data:i}):u.mutate(i)},w=async _=>{window.confirm("Sei sicuro di voler eliminare questa azienda?")&&h.mutate(_)};return l?c.jsx("div",{className:"flex items-center justify-center",children:"Caricamento..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aziende"}),c.jsxs("button",{onClick:()=>f(),className:"flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[c.jsx(La,{className:"h-4 w-4"}),"Nuova Azienda"]})]}),c.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nome"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Telefono"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Descrizione"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azioni"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[a==null?void 0:a.map(_=>c.jsxs("tr",{children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:_.phone||"-"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:_.description||"-"})}),c.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[c.jsx("button",{onClick:()=>f(_),className:"mr-2 text-blue-600 hover:text-blue-900",children:c.jsx(Ia,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>w(_.id),className:"text-red-600 hover:text-red-900",children:c.jsx($a,{className:"h-4 w-4"})})]})]},_.id)),(a==null?void 0:a.length)===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Nessuna azienda trovata"})})]})]})}),e&&c.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6 sm:align-middle",children:[c.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:c.jsx("button",{type:"button",onClick:g,className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(Ps,{className:"h-6 w-6"})})}),c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[c.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:r?"Modifica Azienda":"Nuova Azienda"}),c.jsxs("form",{onSubmit:x,className:"mt-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),c.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:i.name,onChange:_=>o({...i,name:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Telefono"}),c.jsx("input",{type:"tel",name:"phone",id:"phone",value:i.phone,onChange:_=>o({...i,phone:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descrizione"}),c.jsx("textarea",{name:"description",id:"description",rows:3,value:i.description,onChange:_=>o({...i,description:_.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),c.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[c.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",children:r?"Aggiorna":"Crea"}),c.jsx("button",{type:"button",onClick:g,className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",children:"Annulla"})]})]})]})})]})]})})]})}function zb(){const t=js(),[e,n]=k.useState(!1),[r,s]=k.useState(null),[i,o]=k.useState(null),[a,l]=k.useState(null),[u,d]=k.useState(null),[h,f]=k.useState({name:"",company_id:"",radius:100,latitude:45.4642,longitude:9.19}),{data:g,isLoading:x}=In({queryKey:["hazardous-areas"],queryFn:async()=>{const{data:E,error:I}=await W.from("hazardous_areas").select("*, company:companies(name)").order("created_at",{ascending:!1});if(I)throw I;return E}}),{data:w,isLoading:_}=In({queryKey:["companies"],queryFn:async()=>{const{data:E,error:I}=await W.from("companies").select("id, name").order("name");if(I)throw I;return E}}),p=xt({mutationFn:async E=>{const{error:I}=await W.from("hazardous_areas").insert([{name:E.name,company_id:E.company_id,radius:E.radius,geo_point:`POINT(${E.longitude} ${E.latitude})`}]);if(I)throw I},onSuccess:()=>{t.invalidateQueries({queryKey:["hazardous-areas"]}),D.success("Area pericolosa creata con successo"),S()},onError:()=>{D.error("Errore durante la creazione dell'area pericolosa")}}),m=xt({mutationFn:async({id:E,data:I})=>{const{error:K}=await W.from("hazardous_areas").update({name:I.name,company_id:I.company_id,radius:I.radius,geo_point:`POINT(${I.longitude} ${I.latitude})`}).eq("id",E);if(K)throw K},onSuccess:()=>{t.invalidateQueries({queryKey:["hazardous-areas"]}),D.success("Area pericolosa aggiornata con successo"),S()},onError:()=>{D.error("Errore durante l'aggiornamento dell'area pericolosa")}}),y=xt({mutationFn:async E=>{const{error:I}=await W.from("hazardous_areas").delete().eq("id",E);if(I)throw I},onSuccess:()=>{t.invalidateQueries({queryKey:["hazardous-areas"]}),D.success("Area pericolosa eliminata con successo")},onError:()=>{D.error("Errore durante l'eliminazione dell'area pericolosa")}}),b=async()=>{try{const E=await Ma(),I=document.getElementById("map");if(!I)return;const K=new E.maps.Map(I,{center:{lat:h.latitude,lng:h.longitude},zoom:13,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),$=new E.maps.Marker({position:{lat:h.latitude,lng:h.longitude},map:K,draggable:!0}),G=new E.maps.Circle({map:K,center:{lat:h.latitude,lng:h.longitude},radius:h.radius,fillColor:"#ff0000",fillOpacity:.2,strokeColor:"#ff0000",strokeOpacity:.8,strokeWeight:2});$.addListener("dragend",()=>{const M=$.getPosition();M&&(f(Z=>({...Z,latitude:M.lat(),longitude:M.lng()})),G.setCenter(M))}),o(K),l($),d(G)}catch(E){console.error("Error loading Google Maps:",E),D.error("Errore durante il caricamento della mappa")}},j=async E=>{if(E){const I=E.geo_point.coordinates||[9.19,45.4642];s(E),f({name:E.name,company_id:E.company_id,radius:E.radius,longitude:I[0],latitude:I[1]})}else s(null),f({name:"",company_id:"",radius:100,latitude:45.4642,longitude:9.19});n(!0),setTimeout(b,100)},S=()=>{n(!1),s(null),o(null),l(null),d(null)},N=async E=>{E.preventDefault(),r?m.mutate({id:r.id,data:h}):p.mutate(h)},O=async E=>{window.confirm("Sei sicuro di voler eliminare questa area pericolosa?")&&y.mutate(E)},C=E=>{f(I=>({...I,radius:E})),u&&u.setRadius(E)};return x||_?c.jsx("div",{className:"flex items-center justify-center",children:"Caricamento..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aree Pericolose"}),c.jsxs("button",{onClick:()=>j(),className:"flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[c.jsx(La,{className:"h-4 w-4"}),"Nuova Area"]})]}),c.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nome"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azienda"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Raggio (m)"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azioni"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[g==null?void 0:g.map(E=>c.jsxs("tr",{children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:E.company.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:E.radius})}),c.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[c.jsx("button",{onClick:()=>j(E),className:"mr-2 text-blue-600 hover:text-blue-900",children:c.jsx(Ia,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>O(E.id),className:"text-red-600 hover:text-red-900",children:c.jsx($a,{className:"h-4 w-4"})})]})]},E.id)),(g==null?void 0:g.length)===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Nessuna area pericolosa trovata"})})]})]})}),e&&c.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6 sm:align-middle",children:[c.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:c.jsx("button",{type:"button",onClick:S,className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(Ps,{className:"h-6 w-6"})})}),c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[c.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:r?"Modifica Area Pericolosa":"Nuova Area Pericolosa"}),c.jsxs("form",{onSubmit:N,className:"mt-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),c.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:h.name,onChange:E=>f({...h,name:E.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Azienda"}),c.jsxs("select",{id:"company",name:"company",required:!0,value:h.company_id,onChange:E=>f({...h,company_id:E.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[c.jsx("option",{value:"",children:"Seleziona un'azienda"}),w==null?void 0:w.map(E=>c.jsx("option",{value:E.id,children:E.name},E.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"radius",className:"block text-sm font-medium text-gray-700",children:"Raggio (metri)"}),c.jsx("input",{type:"range",name:"radius",id:"radius",min:"50",max:"1000",step:"50",value:h.radius,onChange:E=>C(parseInt(E.target.value)),className:"mt-1 block w-full"}),c.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[h.radius," metri"]})]}),c.jsx("div",{className:"h-64 w-full rounded-lg border border-gray-300",children:c.jsx("div",{id:"map",className:"h-full w-full rounded-lg"})}),c.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[c.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",children:r?"Aggiorna":"Crea"}),c.jsx("button",{type:"button",onClick:S,className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",children:"Annulla"})]})]})]})})]})]})})]})}function Fb(){const t=js(),[e,n]=k.useState(!1),[r,s]=k.useState(null),[i,o]=k.useState(null),[a,l]=k.useState(null),[u,d]=k.useState(null),[h,f]=k.useState({name:"",company_id:"",vertices:[]}),{data:g,isLoading:x}=In({queryKey:["virtual-gates"],queryFn:async()=>{const{data:C,error:E}=await W.from("virtual_gates").select("*, company:companies(name)").order("created_at",{ascending:!1});if(E)throw E;return C}}),{data:w,isLoading:_}=In({queryKey:["companies"],queryFn:async()=>{const{data:C,error:E}=await W.from("companies").select("id, name").order("name");if(E)throw E;return C}}),p=xt({mutationFn:async C=>{const E=`POLYGON((${C.vertices.map(K=>`${K.lng} ${K.lat}`).join(",")},${C.vertices[0].lng} ${C.vertices[0].lat}))`,{error:I}=await W.from("virtual_gates").insert([{name:C.name,company_id:C.company_id,geo_polygon:E}]);if(I)throw I},onSuccess:()=>{t.invalidateQueries({queryKey:["virtual-gates"]}),D.success("Virtual gate creato con successo"),S()},onError:()=>{D.error("Errore durante la creazione del virtual gate")}}),m=xt({mutationFn:async({id:C,data:E})=>{const I=`POLYGON((${E.vertices.map($=>`${$.lng} ${$.lat}`).join(",")},${E.vertices[0].lng} ${E.vertices[0].lat}))`,{error:K}=await W.from("virtual_gates").update({name:E.name,company_id:E.company_id,geo_polygon:I}).eq("id",C);if(K)throw K},onSuccess:()=>{t.invalidateQueries({queryKey:["virtual-gates"]}),D.success("Virtual gate aggiornato con successo"),S()},onError:()=>{D.error("Errore durante l'aggiornamento del virtual gate")}}),y=xt({mutationFn:async C=>{const{error:E}=await W.from("virtual_gates").delete().eq("id",C);if(E)throw E},onSuccess:()=>{t.invalidateQueries({queryKey:["virtual-gates"]}),D.success("Virtual gate eliminato con successo")},onError:()=>{D.error("Errore durante l'eliminazione del virtual gate")}}),b=async()=>{try{const C=await Ma(),E=document.getElementById("map");if(!E)return;const I=new C.maps.Map(E,{center:{lat:45.4642,lng:9.19},zoom:13,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),K=new C.maps.drawing.DrawingManager({drawingMode:C.maps.drawing.OverlayType.POLYGON,drawingControl:!0,drawingControlOptions:{position:C.maps.ControlPosition.TOP_CENTER,drawingModes:[C.maps.drawing.OverlayType.POLYGON]},polygonOptions:{fillColor:"#4F46E5",fillOpacity:.3,strokeColor:"#4F46E5",strokeWeight:2,editable:!0,draggable:!0}});if(K.setMap(I),C.maps.event.addListener(K,"polygoncomplete",$=>{u&&u.setMap(null),d($),K.setDrawingMode(null);const G=$.getPath().getArray().map(M=>({lat:M.lat(),lng:M.lng()}));f(M=>({...M,vertices:G})),C.maps.event.addListener($.getPath(),"set_at",()=>{const M=$.getPath().getArray().map(Z=>({lat:Z.lat(),lng:Z.lng()}));f(Z=>({...Z,vertices:M}))}),C.maps.event.addListener($.getPath(),"insert_at",()=>{const M=$.getPath().getArray().map(Z=>({lat:Z.lat(),lng:Z.lng()}));f(Z=>({...Z,vertices:M}))})}),o(I),l(K),r){const G=r.geo_polygon.coordinates[0].map(ie=>({lng:ie[0],lat:ie[1]})),M=new C.maps.Polygon({paths:G,fillColor:"#4F46E5",fillOpacity:.3,strokeColor:"#4F46E5",strokeWeight:2,editable:!0,draggable:!0});M.setMap(I),d(M),f(ie=>({...ie,vertices:G}));const Z=new C.maps.LatLngBounds;G.forEach(ie=>Z.extend(ie)),I.fitBounds(Z),C.maps.event.addListener(M.getPath(),"set_at",()=>{const ie=M.getPath().getArray().map(T=>({lat:T.lat(),lng:T.lng()}));f(T=>({...T,vertices:ie}))}),C.maps.event.addListener(M.getPath(),"insert_at",()=>{const ie=M.getPath().getArray().map(T=>({lat:T.lat(),lng:T.lng()}));f(T=>({...T,vertices:ie}))})}}catch(C){console.error("Error loading Google Maps:",C),D.error("Errore durante il caricamento della mappa")}},j=async C=>{C?(s(C),f({name:C.name,company_id:C.company_id,vertices:[]})):(s(null),f({name:"",company_id:"",vertices:[]})),n(!0),setTimeout(b,100)},S=()=>{n(!1),s(null),u&&u.setMap(null),d(null),o(null),l(null)},N=async C=>{if(C.preventDefault(),h.vertices.length<3){D.error("Disegna un'area valida sulla mappa");return}r?m.mutate({id:r.id,data:h}):p.mutate(h)},O=async C=>{window.confirm("Sei sicuro di voler eliminare questo virtual gate?")&&y.mutate(C)};return x||_?c.jsx("div",{className:"flex items-center justify-center",children:"Caricamento..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Virtual Gates"}),c.jsxs("button",{onClick:()=>j(),className:"flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[c.jsx(La,{className:"h-4 w-4"}),"Nuovo Gate"]})]}),c.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nome"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azienda"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azioni"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[g==null?void 0:g.map(C=>c.jsxs("tr",{children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name})}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-500",children:C.company.name})}),c.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:[c.jsx("button",{onClick:()=>j(C),className:"mr-2 text-blue-600 hover:text-blue-900",children:c.jsx(Ia,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>O(C.id),className:"text-red-600 hover:text-red-900",children:c.jsx($a,{className:"h-4 w-4"})})]})]},C.id)),(g==null?void 0:g.length)===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Nessun virtual gate trovato"})})]})]})}),e&&c.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6 sm:align-middle",children:[c.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:c.jsx("button",{type:"button",onClick:S,className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(Ps,{className:"h-6 w-6"})})}),c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[c.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:r?"Modifica Virtual Gate":"Nuovo Virtual Gate"}),c.jsxs("form",{onSubmit:N,className:"mt-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),c.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:h.name,onChange:C=>f({...h,name:C.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Azienda"}),c.jsxs("select",{id:"company",name:"company",required:!0,value:h.company_id,onChange:C=>f({...h,company_id:C.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[c.jsx("option",{value:"",children:"Seleziona un'azienda"}),w==null?void 0:w.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Area del Virtual Gate"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Disegna l'area sulla mappa utilizzando gli strumenti di disegno"}),c.jsx("div",{className:"mt-2 h-64 w-full rounded-lg border border-gray-300",children:c.jsx("div",{id:"map",className:"h-full w-full rounded-lg"})})]}),c.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[c.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",children:r?"Aggiorna":"Crea"}),c.jsx("button",{type:"button",onClick:S,className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",children:"Annulla"})]})]})]})})]})]})})]})}function Ub(){const t=Ss(),[e,n]=k.useState("24h"),{data:r,isLoading:s}=In({queryKey:["emergency-logs",e],queryFn:async()=>{let l=W.from("alerts").select("*, company:companies(name)").order("timestamp",{ascending:!1});const u=new Date;switch(e){case"24h":l=l.gte("timestamp",new Date(u.getTime()-24*60*60*1e3).toISOString());break;case"7d":l=l.gte("timestamp",new Date(u.getTime()-7*24*60*60*1e3).toISOString());break;case"30d":l=l.gte("timestamp",new Date(u.getTime()-30*24*60*60*1e3).toISOString());break}const{data:d,error:h}=await l;if(h)throw h;return d}}),i=l=>{const[u,d]=l.current_location.split(" ").map(Number);if(isNaN(d)||isNaN(u)){D.error("Coordinate non valide");return}t("/",{state:{emergency:{id:l.id,userName:l.user_name,timestamp:l.timestamp,latitude:d,longitude:u}}})};if(s)return c.jsx("div",{className:"flex items-center justify-center",children:"Caricamento..."});const o=(r==null?void 0:r.filter(l=>!l.received))||[],a=(r==null?void 0:r.filter(l=>l.received))||[];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Log Emergenze"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("label",{htmlFor:"timeRange",className:"text-sm font-medium text-gray-700",children:"Periodo:"}),c.jsxs("select",{id:"timeRange",value:e,onChange:l=>n(l.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[c.jsx("option",{value:"24h",children:"Ultime 24 ore"}),c.jsx("option",{value:"7d",children:"Ultimi 7 giorni"}),c.jsx("option",{value:"30d",children:"Ultimi 30 giorni"})]})]})]}),o.length>0&&c.jsxs("div",{className:"rounded-lg bg-red-50 p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center",children:[c.jsx(ji,{className:"h-6 w-6 text-red-600"}),c.jsxs("h2",{className:"ml-2 text-lg font-semibold text-red-900",children:["Emergenze Attive (",o.length,")"]})]}),c.jsx("div",{className:"overflow-hidden rounded-lg border border-red-200 bg-white",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-red-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-red-900",children:"Data e Ora"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-red-900",children:"Utente"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-red-900",children:"Azienda"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-red-900",children:"Posizione"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-red-900",children:"Azioni"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:o.map(l=>{var u;return c.jsxs("tr",{className:"bg-red-50 bg-opacity-50",children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-red-900",children:Bu(new Date(l.timestamp),"dd/MM/yyyy HH:mm")}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-sm font-medium text-red-900",children:l.user_name}),c.jsx("div",{className:"text-sm text-red-700",children:l.email})]}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-red-900",children:((u=l.company)==null?void 0:u.name)||"N/A"})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-sm text-red-900",children:l.address}),c.jsx("div",{className:"text-sm text-red-700",children:l.current_location})]}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:c.jsxs("button",{onClick:()=>i(l),className:"inline-flex items-center rounded-md bg-red-100 px-3 py-2 text-sm font-medium text-red-700 hover:bg-red-200",children:[c.jsx(ia,{className:"mr-2 h-4 w-4"}),"Vedi sulla mappa"]})})]},l.id)})})]})})]}),c.jsxs("div",{className:"rounded-lg bg-white shadow",children:[c.jsx("div",{className:"border-b border-gray-200 p-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Storico Emergenze"})}),c.jsx("div",{className:"overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Data e Ora"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Utente"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azienda"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Posizione"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Azioni"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[a.map(l=>{var u;return c.jsxs("tr",{children:[c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:Bu(new Date(l.timestamp),"dd/MM/yyyy HH:mm")}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.user_name}),c.jsx("div",{className:"text-sm text-gray-500",children:l.email})]}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-900",children:((u=l.company)==null?void 0:u.name)||"N/A"})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-sm text-gray-900",children:l.address}),c.jsx("div",{className:"text-sm text-gray-500",children:l.current_location})]}),c.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right",children:c.jsxs("button",{onClick:()=>i(l),className:"inline-flex items-center rounded-md bg-gray-100 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200",children:[c.jsx(ia,{className:"mr-2 h-4 w-4"}),"Vedi sulla mappa"]})})]},l.id)}),a.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Nessuna emergenza registrata nel periodo selezionato"})})]})]})})]})]})}function Bb(){const{user:t,loading:e}=pg();return e?c.jsx("div",{children:"Loading..."}):t?c.jsxs(ch,{children:[c.jsxs(et,{path:"/",element:c.jsx(K_,{}),children:[c.jsx(et,{index:!0,element:c.jsx(Lb,{})}),c.jsx(et,{path:"users",element:c.jsx(Mb,{})}),c.jsx(et,{path:"companies",element:c.jsx(Db,{})}),c.jsx(et,{path:"hazardous-areas",element:c.jsx(zb,{})}),c.jsx(et,{path:"virtual-gates",element:c.jsx(Fb,{})}),c.jsx(et,{path:"emergency-logs",element:c.jsx(Ub,{})})]}),c.jsx(et,{path:"*",element:c.jsx(uh,{to:"/",replace:!0})})]}):c.jsxs(ch,{children:[c.jsx(et,{path:"/login",element:c.jsx(V_,{})}),c.jsx(et,{path:"/register",element:c.jsx(q_,{})}),c.jsx(et,{path:"*",element:c.jsx(uh,{to:"/login",replace:!0})})]})}const Wb=new kw;function Vb(){return c.jsx(Cw,{client:Wb,children:c.jsx(tw,{children:c.jsxs(D_,{children:[c.jsx(Bb,{}),c.jsx(Nx,{position:"top-right"})]})})})}yp(document.getElementById("root")).render(c.jsx(k.StrictMode,{children:c.jsx(Vb,{})}));export{nf as g};
